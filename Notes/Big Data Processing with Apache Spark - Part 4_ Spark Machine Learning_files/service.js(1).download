!function(e,t){sumo.define("plugins/css",[],function(){if("undefined"==typeof window)return{load:function(e,t,r){r()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,r=!1,i=!0;t[1]||t[7]?r=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?i=!1:t[4]&&(r=parseInt(t[4])<18);var a={};a.pluginBuilder="./css-builder";var n,o=function(){n=document.createElement("style"),e.appendChild(n)},s=function(e,t){o();var r=n.styleSheet||n.sheet;if(r&&r.addImport)r.addImport(e),n.onload=t;else{n.textContent='@import "'+e+'";';var i=setInterval(function(){try{n.sheet.cssRules,clearInterval(i),t()}catch(e){}},10)}},l=function(t,r){var a=document.createElement("link");if(a.type="text/css",a.rel="stylesheet",i)a.onload=function(){a.onload=function(){},setTimeout(r,7)};else var n=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==a.href)return clearInterval(n),r()}},10);a.href=t,e.appendChild(a)};return a.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},a.load=function(e,t,i,a){(r?s:l)(t.toUrl(e+".css"),i)},a}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,i="undefined"!=typeof location&&location.href,a=i&&location.protocol&&location.protocol.replace(/\:/,""),n=i&&location.hostname,o=i&&(location.port||void 0),s=[];sumo.define("plugins/text",[],function(){var l,u,c;return"undefined"!=typeof window&&window.navigator&&window.document?u=function(e,t){var r=l.createXhr();r.open("GET",e,!0),r.onreadystatechange=function(){4===r.readyState&&t(r.responseText)},r.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),u=function(e,t){t(c.readFileSync(e,"utf8"))}):"undefined"!=typeof Packages&&(u=function(e,t){var r=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),"utf-8")),a,n,o="";try{for(a=new java.lang.StringBuffer,(n=r.readLine())&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),a.append(n);null!==(n=r.readLine());)a.append(i),a.append(n);o=String(a.toString())}finally{r.close()}t(o)}),l={version:"1.0.2",strip:function(e){if(e){var e=e.replace(t,""),i=e.match(r);i&&(e=i[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,r,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(r=0;r<3;r++){i=e[r];try{t=new ActiveXObject(i)}catch(e){}if(t){e=[i];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:u,parseName:function(e){var t=!1,r=e.indexOf("."),i=e.substring(0,r),e=e.substring(r+1,e.length),r=e.indexOf("!");return r!==-1&&(t=e.substring(r+1,e.length),t="strip"===t,e=e.substring(0,r)),{moduleName:i,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,i){var a=l.xdRegExp.exec(e),n;return!a||(e=a[2],a=a[3],a=a.split(":"),n=a[1],a=a[0],!(e&&e!==t||a&&a!==r||(n||a)&&n!==i))},finishLoad:function(e,t,r,i,a){r=t?l.strip(r):r,a.isBuild&&(s[e]=r),i(r)},load:function(e,t,r,s){if(s.isBuild&&!s.inlineText)r();else{var u=l.parseName(e),c=u.moduleName+"."+u.ext,d=t.toUrl(c),h=s&&s.text&&s.text.useXhr||l.useXhr;!i||h(d,a,n,o)?l.get(d,function(t){l.finishLoad(e,u.strip,t,r,s)}):t([c],function(e){l.finishLoad(u.moduleName+"."+u.ext,u.strip,e,r,s)})}},write:function(e,t,r){if(t in s){var i=l.jsEscape(s[t]);r.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,r,i,a){var t=l.parseName(t),n=t.moduleName+"."+t.ext,o=r.toUrl(t.moduleName+"."+t.ext)+".js";l.load(n,r,function(){var t=function(e){return i(o,e)};t.asModule=function(e,t){return i.asModule(e,o,t)},l.write(e,n,t,a)},a)}}})}(),sumo.define("punycode",function(){}),sumo.define("IPv6",function(){}),sumo.define("SecondLevelDomains",function(){}),function(r,i){"object"==typeof e?t.exports=i(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof sumo.define&&sumo.define.amd?sumo.define("URI",["./punycode","./IPv6","./SecondLevelDomains"],i):r.URI=i(r.punycode,r.IPv6,r.SecondLevelDomains,r)}(this,function(e,t,r,i){"use strict";function a(e,t){return this instanceof a?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new a(e,t)}function n(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function s(e){return"Array"===o(e)}function l(e,t){var r={},i,a;if(s(t))for(i=0,a=t.length;i<a;i++)r[t[i]]=!0;else r[t]=!0;for(i=0,a=e.length;i<a;i++)void 0!==r[e[i]]&&(e.splice(i,1),a--,i--);return e}function u(e,t){var r,i;if(s(t)){for(r=0,i=t.length;r<i;r++)if(!u(e,t[r]))return!1;return!0}var a=o(t);for(r=0,i=e.length;r<i;r++)if("RegExp"===a){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function c(e,t){if(!s(e)||!s(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0}function d(e){return escape(e)}function h(e){return encodeURIComponent(e).replace(/[!'()*]/g,d).replace(/\*/g,"%2A")}var p=i&&i.URI;a.version="1.12.0";var m=a.prototype,f=Object.prototype.hasOwnProperty;a._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:a.duplicateQueryParameters,escapeQuerySpace:a.escapeQuerySpace}},a.duplicateQueryParameters=!1,a.escapeQuerySpace=!0,a.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,a.idn_expression=/[^a-z0-9\.-]/i,a.punycode_expression=/(xn--)/i,a.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,a.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},a.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},a.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,a.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},a.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return a.domAttributes[t]}},a.encode=h,a.decode=decodeURIComponent,a.iso8859=function(){a.encode=escape,a.decode=unescape},a.unicode=function(){a.encode=h,a.decode=decodeURIComponent},a.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},a.encodeQuery=function(e,t){var r=a.encode(e+"");return t?r.replace(/%20/g,"+"):r},a.decodeQuery=function(e,t){e+="";try{return a.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}},a.recodePath=function(e){for(var t=(e+"").split("/"),r=0,i=t.length;r<i;r++)t[r]=a.encodePathSegment(a.decode(t[r]));return t.join("/")},a.decodePath=function(e){for(var t=(e+"").split("/"),r=0,i=t.length;r<i;r++)t[r]=a.decodePathSegment(t[r]);return t.join("/")};var g={encode:"encode",decode:"decode"},v,b=function(e,t){return function(r){return a[t](r+"").replace(a.characters[e][t].expression,function(r){return a.characters[e][t].map[r]})}};for(v in g)a[v+"PathSegment"]=b("pathname",g[v]);a.encodeReserved=b("reserved","encode"),a.parse=function(e,t){var r;return t||(t={}),r=e.indexOf("#"),r>-1&&(t.fragment=e.substring(r+1)||null,e=e.substring(0,r)),r=e.indexOf("?"),r>-1&&(t.query=e.substring(r+1)||null,e=e.substring(0,r)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=a.parseAuthority(e,t)):(r=e.indexOf(":"),r>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(a.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(r+3):"//"===e.substring(r+1,r+3)?(e=e.substring(r+3),e=a.parseAuthority(e,t)):(e=e.substring(r+1),t.urn=!0))),t.path=e,t},a.parseHost=function(e,t){var r=e.indexOf("/"),i,a;return r===-1&&(r=e.length),"["===e.charAt(0)?(i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,r)||null):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,r)||null,t.port=null):(a=e.substring(0,r).split(":"),t.hostname=a[0]||null,t.port=a[1]||null),t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),e.substring(r)||"/"},a.parseAuthority=function(e,t){return e=a.parseUserinfo(e,t),a.parseHost(e,t)},a.parseUserinfo=function(e,t){var r=e.indexOf("/"),i=r>-1?e.lastIndexOf("@",r):e.indexOf("@"),n;return i>-1&&(r===-1||i<r)?(n=e.substring(0,i).split(":"),t.username=n[0]?a.decode(n[0]):null,n.shift(),t.password=n[0]?a.decode(n.join(":")):null,e=e.substring(i+1)):(t.username=null,t.password=null),e},a.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var r={},i=e.split("&"),n=i.length,o,s,l,u=0;u<n;u++)o=i[u].split("="),s=a.decodeQuery(o.shift(),t),l=o.length?a.decodeQuery(o.join("="),t):null,r[s]?("string"==typeof r[s]&&(r[s]=[r[s]]),r[s].push(l)):r[s]=l;return r},a.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=a.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},a.buildHost=function(e){var t="";return e.hostname?(a.ip6_expression.test(e.hostname)?t+=e.port?"["+e.hostname+"]:"+e.port:e.hostname:(t+=e.hostname,e.port&&(t+=":"+e.port)),t):""},a.buildAuthority=function(e){return a.buildUserinfo(e)+a.buildHost(e)},a.buildUserinfo=function(e){var t="";return e.username&&(t+=a.encode(e.username),e.password&&(t+=":"+a.encode(e.password)),t+="@"),t},a.buildQuery=function(e,t,r){var i="",n,o,l,u;for(o in e)if(f.call(e,o)&&o)if(s(e[o]))for(n={},l=0,u=e[o].length;l<u;l++)void 0!==e[o][l]&&void 0===n[e[o][l]+""]&&(i+="&"+a.buildQueryParameter(o,e[o][l],r),t!==!0&&(n[e[o][l]+""]=!0));else void 0!==e[o]&&(i+="&"+a.buildQueryParameter(o,e[o],r));return i.substring(1)},a.buildQueryParameter=function(e,t,r){return a.encodeQuery(e,r)+(null!==t?"="+a.encodeQuery(t,r):"")},a.addQuery=function(e,t,r){if("object"==typeof t)for(var i in t)f.call(t,i)&&a.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),s(r)||(r=[r]),e[t]=e[t].concat(r)}},a.removeQuery=function(e,t,r){var i,n,o;if(s(t))for(i=0,n=t.length;i<n;i++)e[t[i]]=void 0;else if("object"==typeof t)for(o in t)f.call(t,o)&&a.removeQuery(e,o,t[o]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==r?e[t]===r?e[t]=void 0:s(e[t])&&(e[t]=l(e[t],r)):e[t]=void 0}},a.hasQuery=function(e,t,r,i){if("object"==typeof t){for(var n in t)if(f.call(t,n)&&!a.hasQuery(e,n,t[n]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(o(r)){case"Undefined":return t in e;case"Boolean":var l=Boolean(s(e[t])?e[t].length:e[t]);return r===l;case"Function":return!!r(e[t],t,e);case"Array":if(!s(e[t]))return!1;var d=i?u:c;return d(e[t],r);case"RegExp":return s(e[t])?!!i&&u(e[t],r):Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return s(e[t])?!!i&&u(e[t],r):e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},a.commonPath=function(e,t){var r=Math.min(e.length,t.length),i;for(i=0;i<r;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}return i<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(i)&&"/"===t.charAt(i)||(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},a.withinString=function(e,t,r){r||(r={});var i=r.start||a.findUri.start,n=r.end||a.findUri.end,o=r.trim||a.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var l=i.exec(e);if(!l)break;var u=l.index;if(r.ignoreHtml){var c=e.slice(Math.max(u-3,0),u);if(c&&s.test(c))continue}var d=u+e.slice(u).search(n),h=e.slice(u,d).replace(o,"");if(!r.ignore||!r.ignore.test(h)){d=u+h.length;var p=t(h,u,d,e);e=e.slice(0,u)+p+e.slice(d),i.lastIndex=u+p.length}}return i.lastIndex=0,e},a.ensureValidHostname=function(t){if(t.match(a.invalid_hostname_characters)){if(!e)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(e.toASCII(t).match(a.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}},a.noConflict=function(e){if(e){var r={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(r.URITemplate=URITemplate.noConflict()),t&&"function"==typeof t.noConflict&&(r.IPv6=t.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(r.SecondLevelDomains=SecondLevelDomains.noConflict()),r}return i.URI===this&&(i.URI=p),this},m.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=a.build(this._parts),this._deferred_build=!1),this},m.clone=function(){return new a(this)},m.valueOf=m.toString=function(){return this.build(!1)._string},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},b=function(e){return function(t,r){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!r),this)}};for(v in g)m[v]=b(g[v]);g={query:"?",fragment:"#"},b=function(e,t){return function(r,i){return void 0===r?this._parts[e]||"":(null!==r&&(r+="",r.charAt(0)===t&&(r=r.substring(1))),this._parts[e]=r,this.build(!i),this)}};for(v in g)m[v]=b(v,g[v]);g={search:["?","query"],hash:["#","fragment"]},b=function(e,t){return function(r,i){var a=this[e](r,i);return"string"==typeof a&&a.length?t+a:a}};for(v in g)m[v]=b(g[v][1],g[v][0]);m.pathname=function(e,t){if(void 0===e||e===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return e?a.decodePath(r):r}return this._parts.path=e?a.recodePath(e):"/",this.build(!t),this},m.path=m.pathname,m.href=function(e,t){var r;if(void 0===e)return this.toString();this._string="",this._parts=a._parts();var i=e instanceof a,n="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){var o=a.getDomAttribute(e);e=e[o]||"",n=!1}if(!i&&n&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e)this._parts=a.parse(e,this._parts);else{if(!i&&!n)throw new TypeError("invalid input");var s=i?e._parts:e;for(r in s)f.call(this._parts,r)&&(this._parts[r]=s[r])}return this.build(!t),this},m.is=function(e){var t=!1,i=!1,n=!1,o=!1,s=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,i=a.ip4_expression.test(this._parts.hostname),n=a.ip6_expression.test(this._parts.hostname),t=i||n,o=!t,s=o&&r&&r.has(this._parts.hostname),l=o&&a.idn_expression.test(this._parts.hostname),u=o&&a.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return o;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return n;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var _=m.protocol,y=m.port,w=m.hostname;m.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(a.protocol_expression)))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return _.call(this,e,t)},m.scheme=m.protocol,m.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return y.call(this,e,t)},m.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var r={};a.parseHost(e,r),e=r.hostname}return w.call(this,e,t)},m.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?a.buildHost(this._parts):"":(a.parseHost(e,this._parts),this.build(!t),this)},m.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?a.buildAuthority(this._parts):"":(a.parseAuthority(e,this._parts),this.build(!t),this)},m.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var r=a.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==e[e.length-1]&&(e+="@"),a.parseUserinfo(e,this._parts),this.build(!t),this},m.resource=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=a.parse(e),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!t),this)},m.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var i=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,i),s=new RegExp("^"+n(o));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&a.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},m.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var i=this._parts.hostname.length-this.tld(t).length-1;return i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(a.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(n(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},m.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),a=this._parts.hostname.substring(i+1);return t!==!0&&r&&r.list[a.toLowerCase()]?r.get(this._parts.hostname)||a:a}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");o=new RegExp(n(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(n(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},m.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return e?a.decodePath(i):i}var o=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,o),l=new RegExp("^"+n(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=a.recodePath(e),this._parts.path=this._parts.path.replace(l,e),this.build(!t),this},m.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(r+1);return e?a.decodePathSegment(i):i}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var s=new RegExp(n(this.filename())+"$");return e=a.recodePath(e),this._parts.path=this._parts.path.replace(s,e),o?this.normalizePath(t):this.build(!t),this},m.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this.filename(),i=r.lastIndexOf("."),o,s;return i===-1?"":(o=r.substring(i+1),s=/^[a-z0-9%]+$/i.test(o)?o:"",e?a.decodePathSegment(s):s)}"."===e.charAt(0)&&(e=e.substring(1));var l=this.suffix(),u;if(l)u=e?new RegExp(n(l)+"$"):new RegExp(n("."+l)+"$");else{if(!e)return this;this._parts.path+="."+a.recodePath(e)}return u&&(e=a.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},m.segment=function(e,t,r){var i=this._parts.urn?":":"/",a=this.path(),n="/"===a.substring(0,1),o=a.split(i);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error("Bad segment '"+e+"', must be 0-based integer");if(n&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(s(t)){o=[];for(var l=0,u=t.length;l<u;l++)(t[l].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(t[l]))}else(t||"string"==typeof t)&&(""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t||"string"==typeof t&&t.length?o[e]=t:o.splice(e,1);return n&&o.unshift(""),this.path(o.join(i),r)},m.segmentCoded=function(e,t,r){var i,n,o;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(i=this.segment(e,t,r),s(i))for(n=0,o=i.length;n<o;n++)i[n]=a.decode(i[n]);else i=void 0!==i?a.decode(i):void 0;return i}if(s(t))for(n=0,o=t.length;n<o;n++)t[n]=a.decode(t[n]);else t="string"==typeof t?a.encode(t):t;return this.segment(e,t,r)};var x=m.query;return m.query=function(e,t){if(e===!0)return a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,r);return this._parts.query=a.buildQuery(i||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=a.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):x.call(this,e,t)},m.setQuery=function(e,t,r){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof e)for(var n in e)f.call(e,n)&&(i[n]=e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");i[e]=void 0!==t?t:null}return this._parts.query=a.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},m.addQuery=function(e,t,r){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.addQuery(i,e,void 0===t?null:t),this._parts.query=a.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},m.removeQuery=function(e,t,r){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.removeQuery(i,e,t),this._parts.query=a.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},m.hasQuery=function(e,t,r){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.hasQuery(i,e,t,r)},m.setSearch=m.setQuery,m.addSearch=m.addQuery,m.removeSearch=m.removeQuery,m.hasSearch=m.hasQuery,m.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},m.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},m.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},m.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===a.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},m.normalizePath=function(e){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var t,r=this._parts.path,i="",n,o;for("/"!==r.charAt(0)&&(t=!0,r="/"+r),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(i=r.substring(1).match(/^(\.\.\/)+/)||"",i&&(i=i[0]));;){if(n=r.indexOf("/.."),n===-1)break;0!==n?(o=r.substring(0,n).lastIndexOf("/"),o===-1&&(o=n),r=r.substring(0,o)+r.substring(n+3)):r=r.substring(3)}return t&&this.is("relative")&&(r=i+r.substring(1)),r=a.recodePath(r),this._parts.path=r,this.build(!e),this},m.normalizePathname=m.normalizePath,m.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(a.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},m.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},m.normalizeSearch=m.normalizeQuery,m.normalizeHash=m.normalizeFragment,m.iso8859=function(){var e=a.encode,t=a.decode;return a.encode=escape,a.decode=decodeURIComponent,this.normalize(),a.encode=e,a.decode=t,this},m.unicode=function(){var e=a.encode,t=a.decode;return a.encode=h,a.decode=unescape,this.normalize(),a.encode=e,a.decode=t,this},m.readable=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t._parts.protocol&&(r+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(r+=e.toUnicode(t._parts.hostname),t._parts.port&&(r+=":"+t._parts.port)):r+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(r+="/"),r+=t.path(!0),t._parts.query){for(var i="",n=0,o=t._parts.query.split("&"),s=o.length;n<s;n++){var l=(o[n]||"").split("=");i+="&"+a.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(i+="="+a.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+i.substring(1)}return r+=a.decodeQuery(t.hash(),!0)},m.absoluteTo=function(e){var t=this.clone(),r=["protocol","username","password","hostname","port"],i,n,o;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof a||(e=new a(e)),t._parts.protocol||(t._parts.protocol=e._parts.protocol),this._parts.hostname)return t;for(n=0;o=r[n];n++)t._parts[o]=e._parts[o];return t._parts.path?".."===t._parts.path.substring(-2)&&(t._parts.path+="/"):(t._parts.path=e._parts.path,t._parts.query||(t._parts.query=e._parts.query)),"/"!==t.path().charAt(0)&&(i=e.directory(),t._parts.path=(i?i+"/":"")+t._parts.path,t.normalizePath()),t.build(),t},m.relativeTo=function(e){var t=this.clone().normalize(),r,i,n,o,s;if(t._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new a(e).normalize(),r=t._parts,i=e._parts,o=t.path(),s=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(r.protocol===i.protocol&&(r.protocol=null),r.username!==i.username||r.password!==i.password)return t.build();if(null!==r.protocol||null!==r.username||null!==r.password)return t.build();if(r.hostname!==i.hostname||r.port!==i.port)return t.build();if(r.hostname=null,r.port=null,o===s)return r.path="",t.build();if(n=a.commonPath(t.path(),e.path()),!n)return t.build();var l=i.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return r.path=l+r.path.substring(n.length),t.build()},m.equals=function(e){var t=this.clone(),r=new a(e),i={},n={},o={},l,u,d;if(t.normalize(),r.normalize(),t.toString()===r.toString())return!0;if(l=t.query(),u=r.query(),t.query(""),r.query(""),t.toString()!==r.toString())return!1;if(l.length!==u.length)return!1;i=a.parseQuery(l,this._parts.escapeQuerySpace),n=a.parseQuery(u,this._parts.escapeQuerySpace);for(d in i)if(f.call(i,d)){if(s(i[d])){if(!c(i[d],n[d]))return!1}else if(i[d]!==n[d])return!1;o[d]=!0}for(d in n)if(f.call(n,d)&&!o[d])return!1;return!0},m.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},m.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},a}),sumo.define("color",[],function(){var e={lightOrDark:function(e){var t,r,i,a;return e.toHex&&(e="#"+e.toHex()),e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],i=e[2],r=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),t=e>>16,i=e>>8&255,r=255&e),a=Math.sqrt(.299*(t*t)+.587*(i*i)+.114*(r*r)),a>127.5?"light":"dark"},whiteOrBlack:function(e){return"light"==this.lightOrDark(e)?"black":"white"},shadeColor:function(e,t){e=e.toString();var r=parseInt(e.slice(1),16),i=Math.round(2.55*t),a=(r>>16)+i,n=(r>>8&255)+i,o=(255&r)+i;return"#"+(16777216+65536*(a<255?a<1?0:a:255)+256*(n<255?n<1?0:n:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},RGBColor:function(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}}],r=0;r<t.length;r++){
var i=t[r].re,a=t[r].process,n=i.exec(e);n&&(channels=a(n),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}},hexToRGBA:function(e,t){var r=new this.RGBColor(e);return r.a=t||1,r.toRGBA()}};return e}),sumo.define("articles",[],function(){var e=[],t=["[class^=comment]","[id^=comment]","[class*=footer]","[class^=comment]",".archive-page",".aside",".hentry-metro",".hrf-entry"],r=[".sidebar:not(body)","aside","#sidebar","footer","[class*=footer]:not(body):not([class*=not-footer])","#comments","#livefyre-comments","[class^=fyre]","[id^=comment]","[class*=related-post]:not(body)",".tve-leads-lightbox"],i=[],a={_invalidateNode:function(e){if(e&&"#text"!==e.nodeName&&(i.push(e),e.childNodes&&e.childNodes.length>0))for(var t=0;t<e.childNodes.length;t++)this._invalidateNode(e.childNodes[t])},_findInvalidElements:function(e){for(var t=0;t<r.length;t++)for(var i=r[t],a=e.querySelectorAll(i),n=0;n<a.length;n++)this._invalidateNode(a[n])},_findAnchor:function(e){for(var t=null,r=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],i=0;i<r.length;i++){var a=r[i],n=e.querySelector(a+"[href]");if(n)return n[0]}return null},_findFooter:function(e){for(var t=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not([class^=comment-count]):not([class^=comments-link]):not([class^=comments-number]):not(li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],r=[".post-meta-info"],i=0;i<t.length;i++){var a=t[i],n=e.querySelector(a);if(n){if(n.classList.contains("fb-comments")){for(var o=n,s=n,l=!1;null!==s.previousElementSibling;){if("P"===s.nodeName&&"H3"===s.previousElementSibling.nodeName){l=!0,s=s.previousElementSibling;break}s=s.previousElementSibling}if(l){for(;null!==s.previousElementSibling;)if(s=s.previousElementSibling,"H3"===s.nodeName)return s;return o}return o}return n}}return null},_findHeader:function(e){for(var t=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],r=0;r<t.length;r++){var i=t[r],a=e.querySelector(i);if(a)return a}return null},_validateArticles:function(e){if(!e||!e.length)return[];for(var t=[],r=0;r<e.length;r++){var a=e[r],n=!0;if(""!==a.innerText.trim()){for(var o=0;o<i.length;o++)a===i[o]&&(n=!1);if(n){a.__header||(a.__header=this._findHeader(a)),a.__title=a.__header?a.__header:null,a.__footer=this._findFooter(a),self._title&&(a.__titleText=self.__title.innerText());var s=a.__header&&a.__header.length?this._findAnchor(a.__header[0]):null;s?a.__anchor=s:a.__anchor=this._findAnchor(a),a.__anchor?a.__url=a.__anchor.getAttribute("href"):a.__url=null,a.__url||(a.__url=window.location.href),t.push(a)}}}return t},_findLeaves:function(e,r){for(var i=r,a=0;a<t.length;a++)i+=":not("+t[a]+")";var n=e.querySelectorAll(i);return n||[]},findAll:function(){var t=document.querySelector('main, [role="main"]'),r=t?t:document.body;e.push("article"),e.push(".post"),e.push(".entry-content"),e.push(".post-content"),e.push(".post_box"),e.push(".post-item"),e.push(".blog-post-wrapper"),e.push(".type-post"),e.push("#content"),e.push(".blog_content"),r===document.body?(e.push("main .hentry"),e.push("[role=main] .hentry"),e.push("main .content"),e.push("[role=main] .content")):(e.push(".hentry"),e.push(".content")),e.push("#post-content"),e.push("#blog-content"),e.push(".blog-post"),this._findInvalidElements(r);for(var i=0;i<e.length;i++){var a=this._findLeaves(r,e[i]),n=this._validateArticles(a);if(n.length>0)return n}var o=document.querySelectorAll("p"),a=[];if(o&&o.length){for(var i=0;i<o.length;i++){var s=o[i].parentNode;if(!(a.indexOf(s)>-1)){for(var l=s.childNodes,u=!1,c=0,d=0;d<l.length;d++)if("P"===l[d].tagName&&c++,c>=3){u=!0;break}u&&a.push(s)}}var n=this._validateArticles(a);if(n.length>0)return n}return[]},find:function(){var e=this.findAll();return e&&e.length?e[0]:null},hasArticles:function(){return this.findAll().length>=1}};return a}),sumo.define("plugins/text!55c989d5-855d-4538-b67b-3cdb46acd968/templates/sharer_popup.html",[],function(){return'<div class="sumome-image-sharer-popup-form">\n  <div class="sumome-form">\n    <div class="sumome-row" id="sumome-image-sharer">\n      <div class="sumome-image-sharer-preloader">\n        <img src="{{preloader}}" />\n      </div>\n    </div>\n  </div>\n</div>\n'}),function(){var r;r=function(e){var t,r;return t=!1,e(function(){var i;return i=(document.body||document.documentElement).style,t=void 0!==i.animation||void 0!==i.WebkitAnimation||void 0!==i.MozAnimation||void 0!==i.MsAnimation||void 0!==i.OAnimation,e(window).bind("resize.vex",function(e){if(!e||"resize"!=e.type||e.target==window)return r.resize()}),e(window).bind("keyup.vex",function(e){if(27===e.keyCode)return r.closeByEscape()})}),r={globalID:1,animationEndEvent:"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",baseClassNames:{vex:"sumome-vex",content:"sumome-vex-content",overlay:"sumome-vex-overlay",close:"sumome-vex-close",closing:"sumome-vex-closing",open:"sumome-vex-open"},defaultOptions:{content:"",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",css:{},overlayClassName:"",overlayCSS:{},contentClassName:"",contentCSS:{},closeClassName:"",openClassName:"",closeCSS:{},allowBackgroundScrolling:!1},open:function(t){return t=e.extend({},r.defaultOptions,t),t.id=r.globalID,r.globalID+=1,t.$vex=e("<div>").addClass(r.baseClassNames.vex).addClass(t.className).css(t.css).data({vex:t}),t.openClassName&&t.$vex.addClass(t.openClassName),t.allowBackgroundScrolling||r.setupHTMLClassName(t.$vex),t.$vexOverlay=e("<div>").addClass(r.baseClassNames.overlay).addClass(t.overlayClassName).css(t.overlayCSS).data({vex:t}),t.overlayClosesOnClick&&t.$vexOverlay.bind("click.vex",function(t){if(t.target===this)return r.close(e(this).data().vex.id)}),t.$vex.append(t.$vexOverlay),t.$vexContent=e("<div>").addClass(r.baseClassNames.content).addClass(t.contentClassName).css(t.contentCSS).append(t.content).data({vex:t}),t.$vexContent.find("link").bind("load.vex",function(e){return r.resize()}),t.$vexContent.bind("resize.vex",function(e){return r.resize()}),t.$vex.append(t.$vexContent),t.customCloseButton?t.showCloseButton&&(t.$closeButton=t.$vexContent.find("."+t.closeClassName).eq(0).data({vex:t}).bind("click.vex",function(){return r.close(e(this).data().vex.id)})):t.showCloseButton&&(t.$closeButton=e("<div>").addClass(r.baseClassNames.close).addClass(t.closeClassName).css(t.closeCSS).data({vex:t}).bind("click.vex",function(){return r.close(e(this).data().vex.id)}),t.$vexContent.append(t.$closeButton)),e(t.appendLocation).append(t.$vex),t.afterOpen&&t.afterOpen(t.$vexContent,t),setTimeout(function(){return t.$vexContent.trigger("vexOpen",t)},0),t.$vexContent},getAllVexes:function(){return e("."+r.baseClassNames.vex+':not(".'+r.baseClassNames.closing+'") .'+r.baseClassNames.content)},getVexByID:function(t){return r.getAllVexes().filter(function(){return e(this).data().vex.id===t})},close:function(e){var t;if(!e){if(t=r.getAllVexes().last(),!t.length)return!1;e=t.data().vex.id}return r.closeByID(e)},closeAll:function(){var t;return t=r.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),!(null==t||!t.length)&&(e.each(t.reverse(),function(e,t){return r.closeByID(t)}),!0)},closeByID:function(i){var a,n,o,s,l;if(n=r.getVexByID(i),n.length)return a=n.data().vex.$vex,l=e.extend({},n.data().vex),o=function(){if(l.beforeClose)return l.beforeClose(n,l)},s=function(){if(n.trigger("vexClose",l),a.remove(),l.afterClose)return l.afterClose(n,l)},t?(o(),a.unbind(r.animationEndEvent).bind(r.animationEndEvent,function(){return s()}).addClass(r.baseClassNames.closing)):(o(),s()),!0},resizeByID:function(t){var i,a,n,o,s;if(a=r.getVexByID(t),a.length)return i=a.data().vex.$vex,s=e.extend({},a.data().vex),a.trigger("vexResize",s),!0},resize:function(){var t,i,a;return a=r.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),!(null==a||!a.length)&&(i=Math.max.apply(Math,a),t=r.getVexByID(i),r.resizeByID(i))},closeByEscape:function(){var t,i,a;return a=r.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),!(null==a||!a.length)&&(i=Math.max.apply(Math,a),t=r.getVexByID(i),t.data().vex.escapeButtonCloses===!0&&r.closeByID(i))},setupHTMLClassName:function(t){return t.bind("vexOpen.vex",function(){return e("html").addClass(r.baseClassNames.open)}).bind("vexClose.vex",function(){if(!r.getAllVexes().length)return e("html").removeClass(r.baseClassNames.open)})},hideLoading:function(){return e(".vex-loading-spinner").remove()},showLoading:function(){return r.hideLoading(),e("body").append('<div class="vex-loading-spinner '+r.defaultOptions.className+'"></div>')}}},"function"==typeof sumo.define&&sumo.define.amd?sumo.define("vex",["jquery"],r):"object"==typeof e?t.exports=r(require("jquery")):window.vex=r(jQuery)}.call(this),sumo.define("twitter-text",[],function(){function e(e,t){return t=t||"","string"!=typeof e&&(e.global&&t.indexOf("g")<0&&(t+="g"),e.ignoreCase&&t.indexOf("i")<0&&(t+="i"),e.multiline&&t.indexOf("m")<0&&(t+="m"),e=e.source),new RegExp(e.replace(/#\{(\w+)\}/g,function(e,t){var i=r.txt.regexen[t]||"";return"string"!=typeof i&&(i=i.source),i}),t)}function t(e,t){return e.replace(/#\{(\w+)\}/g,function(e,r){return t[r]||""})}var r={};return r.txt={},r.txt.regexen={},r.txt.regexSupplant=e,r.txt.stringSupplant=t,r.txt.regexen.spaces_group=/\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000/,r.txt.regexen.invalid_chars_group=/\uFFFE\uFEFF\uFFFF\u202A-\u202E/,r.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,r.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm,r.txt.regexen.latinAccentChars=/\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253\u0254\u0256\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF/,r.txt.regexen.validUrlPrecedingChars=e(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,r.txt.regexen.invalidDomainChars=t("#{punct}#{spaces_group}#{invalid_chars_group}",r.txt.regexen),r.txt.regexen.validDomainChars=e(/[^#{invalidDomainChars}]/),r.txt.regexen.validSubdomain=e(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validDomainName=e(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validGTLD=e(RegExp("(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|شبكة|بيتك|بازار|العليان|ارامكو|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@]|$))")),r.txt.regexen.validCCTLD=e(RegExp("(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@]|$))")),r.txt.regexen.validPunycode=/(?:xn--[0-9a-z]+)/,r.txt.regexen.validSpecialCCTLD=/(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))/,r.txt.regexen.validDomain=e(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),r.txt.regexen.validAsciiDomain=e(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),r.txt.regexen.invalidShortDomain=e(/^#{validDomainName}#{validCCTLD}$/i),r.txt.regexen.validSpecialShortDomain=e(/^#{validDomainName}#{validSpecialCCTLD}$/i),r.txt.regexen.validPortNumber=/[0-9]+/,r.txt.regexen.cyrillicLettersAndMarks=/\u0400-\u04FF/,r.txt.regexen.validGeneralUrlPathChars=e(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-_~@\|&#{latinAccentChars}]/i),r.txt.regexen.validUrlBalancedParens=e("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),r.txt.regexen.validUrlPathEndingChars=e(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),r.txt.regexen.validUrlPath=e("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),r.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,r.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,r.txt.regexen.extractUrl=e("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),r.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,r.txt.regexen.urlHasHttps=/^https:\/\//i,r.txt.extractUrlsWithIndices=function(e,t){if(t||(t={extractUrlsWithoutProtocol:!0}),!e||(t.extractUrlsWithoutProtocol?!e.match(/\./):!e.match(/:/)))return[];for(var i=[];r.txt.regexen.extractUrl.exec(e);){var a=RegExp.$2,n=RegExp.$3,o=RegExp.$4,s=RegExp.$5,l=RegExp.$7,u=r.txt.regexen.extractUrl.lastIndex,c=u-n.length;if(o)n.match(r.txt.regexen.validTcoUrl)&&(n=RegExp.lastMatch,u=c+n.length),i.push({url:n,indices:[c,u]});else{if(!t.extractUrlsWithoutProtocol||a.match(r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var d=null,h=0;if(s.replace(r.txt.regexen.validAsciiDomain,function(e){var t=s.indexOf(e,h);h=t+e.length,d={url:e,indices:[c+t,c+h]},(l||e.match(r.txt.regexen.validSpecialShortDomain)||!e.match(r.txt.regexen.invalidShortDomain))&&i.push(d)}),null==d)continue;l&&(d.url=n.replace(s,d.url),d.indices[1]=u)}}return i},r.txt.modifyIndicesFromUTF16ToUnicode=function(e,t){r.txt.convertUnicodeIndices(e,t,!0)},r.txt.getUnicodeTextLength=function(e){return e.replace(r.txt.regexen.non_bmp_code_pairs," ").length},r.txt.convertUnicodeIndices=function(e,t,r){if(0!=t.length){var i=0,a=0;t.sort(function(e,t){return e.indices[0]-t.indices[0]});for(var n=0,o=t[0];i<e.length;){if(o.indices[0]==(r?i:a)){var s=o.indices[1]-o.indices[0];if(o.indices[0]=r?a:i,o.indices[1]=o.indices[0]+s,n++,n==t.length)break;o=t[n]}var l=e.charCodeAt(i);55296<=l&&l<=56319&&i<e.length-1&&(l=e.charCodeAt(i+1),56320<=l&&l<=57343&&i++),a++,i++}}},r.txt.getTweetLength=function(e,t){t||(t={short_url_length:23,short_url_length_https:23});var i=r.txt.getUnicodeTextLength(e),a=r.txt.extractUrlsWithIndices(e);r.txt.modifyIndicesFromUTF16ToUnicode(e,a);for(var n=0;n<a.length;n++)i+=a[n].indices[0]-a[n].indices[1],i+=a[n].url.toLowerCase().match(r.txt.regexen.urlHasHttps)?t.short_url_length_https:t.short_url_length;return i},r}),sumo.define("jquery.timer",["jquery"],function(e){"use strict";if(null===e)throw"jQuery is not defined";var t=function(t){var r={timerCallback:function(){},startCallback:function(){},pauseCallback:function(){},resumeCallback:function(){},stopCallback:function(){},finishCallback:function(){},interval:1e3,timeout:!1,useSetTimeout:!0};t.interval=parseInt(t.interval,10),t.interval=isNaN(t.interval)?r.interval:t.interval,t.timeout=parseInt(t.timeout,10),t.timeout=isNaN(t.timeout)?r.timeout:t.timeout,this._options=e.extend(r,t),this._timerFunction=this._options.useSetTimeout?"Timeout":"Interval",this._timerID=null,this._startTime=0,this._pausedInterval=-1,this._passedTime=0,this._status="stopped"};t.prototype={_activate:function(){var e=this;this._startTime=(new Date).getTime(),this._timerID=window["set"+this._timerFunction](function(){e._passedTime=(new Date).getTime()-e._startTime,e._options.timeout&&e._passedTime>=e._options.timeout?e._finish():e._options.timerCallback()},this._options.interval)},_finish:function(){window["clear"+this._timerFunction](this._timerID),this._startTime=0,this._pausedInterval=-1,this._passedTime=0,this._timerID=null,this._options.finishCallback(),this._status="finished"},start:function(){0===this._startTime&&(this._activate(),this._options.startCallback(),this._status="running")},pause:function(){0!==this._startTime&&null!==this._timerID&&(window["clear"+this._timerFunction](this._timerID),this._passedTime=(new Date).getTime()-this._startTime,this._pausedInterval=this._passedTime%this._options.interval,this._timerID=null,this._options.pauseCallback(),this._status="paused")},resume:function(e){if(e="undefined"!=typeof e&&e,this._pausedInterval!==-1){if(e){var t=this;setTimeout(function(){t._options.timerCallback(),t._options.useSetTimeout||t._activate()},this._options.interval-this._pausedInterval)}else this._activate();this._options.resumeCallback(),this._status="running"}},stop:function(){0!==this._startTime&&null!==this._timerID&&(this._finish(),this._options.stopCallback(),this._status="stopped")},kill:function(){null!==this._timerID&&(window["clear"+this._timerFunction](this._timerID),this._startTime=0,this._pausedInterval=-1,this._timerID=null,this._status="stopped")},status:function(){return this._status}},e.timer=function(r,i,a,n){if("undefined"==typeof r)return e.timer["#LIST#"];if("string"!=typeof r||!r.match(/^[a-zA-Z][a-zA-Z_0-9]*$/))throw"Invalid timer name (it must start with a letter and cannot contain other characters than letters, numbers and underscore";if("undefined"==typeof i)return e.timer[r];if(null===i){if(e.timer[r]){e.timer[r].kill(),delete e.timer[r];var o=e.timer["#LIST#"].indexOf(r);o>-1&&e.timer["#LIST#"].splice(o,1)}return!0}if("function"!=typeof i)throw"Please provide a callback function for setTimer/setInterval function";if(a=parseInt(a,10),isNaN(a)||a<=0)throw"Please provide an interval for timer (in seconds)";return n=n||{},n.timerCallback=i,n.interval=a,e.timer[r]=new t(n),e.timer["#LIST#"].push(r),e.timer[r]},e.timer["#LIST#"]=[]}),sumo.define("jquery.naturalwidth",["jquery"],function(e){for(var t=["Width","Height"],r;r=t.pop();)!function(t,r){e.fn[t]=t in new Image?function(){return this[0][t]}:function(){var e=this[0],t,i;return"img"===e.tagName.toLowerCase()&&(t=new Image,t.src=e.src,i=t[r]),i}}("natural"+r,r.toLowerCase())}),sumo.define("jquery.drags",["jquery"],function(e){e.fn.drags=function(t){if(t=e.extend({handle:"",cursor:"move"},t),""===t.handle)var r=this;else var r=this.find(t.handle);return r.css("cursor",t.cursor).on("mousedown.drags",function(r){if(e(this).trigger("dragstart"),""===t.handle)var i=e(this).addClass("draggable");else var i=e(this).addClass("active-handle").parent().addClass("draggable");var a=i.css("z-index"),n=i.outerHeight(),o=i.outerWidth(),s=i.offset().top+n-r.pageY,l=i.offset().left+o-r.pageX;i.css("z-index",10000001).parents().on("mousemove.drags",function(t){var r=t.pageY+s-n,i=t.pageX+l-o;e(".draggable").trigger("dragmove",{top:r,left:i}),e(".draggable").offset({top:r,left:i}).on("mouseup",function(){e(this).removeClass("draggable").css("z-index",a)})}),r.preventDefault()}).on("mouseup.drags",function(){if(""===t.handle)var r=e(this).removeClass("draggable");else var r=e(this).removeClass("active-handle").parent().removeClass("draggable");r.parents().unbind("mousemove.drags"),e(this).trigger("dragend")})}}),sumo.define("jquery.resizes",["jquery"],function(e){e.fn.resizes=function(t){if(t=e.extend({handle:"",cursor:"se-resize",body:"",min_width:200,min_height:100,onResized:null},t),""===t.handle)var r=this;else var r=this.find(t.handle),i=this.find(t.body);return r.css("cursor",t.cursor).on("mousedown",function(r){if(""===t.handle)var a=e(this);else var a=e(this).parent();var n=a.css("z-index"),o=a.outerHeight(),s=a.outerWidth(),l=r.pageY,u=r.pageX,c=i.outerWidth(),d=i.outerHeight();a.css("z-index",10000001).parents().on("mousemove.jqueryResize",function(e){var r=!1;s+e.pageX-u>=t.min_width&&(r=!0,a.width(s+e.pageX-u)),o+e.pageY-l>=t.min_height&&(r=!0,a.height(o+e.pageY-l),i.height(d+e.pageY-l)),r&&(t.onResized?t.onResized():i.children().trigger("resize"))}),e(document).on("mouseup",function(){a.parents().off(".jqueryResize")}),r.preventDefault()})}}),sumo.define("jquery.ui.position",["jquery"],function(e){function t(e,t,r){return[parseInt(e[0],10)*(h.test(e[0])?t/100:1),parseInt(e[1],10)*(h.test(e[1])?r/100:1)]}function r(t,r){return parseInt(e.css(t,r),10)||0}function i(t){var r=t[0];return 9===r.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(r)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:r.preventDefault?{width:0,height:0,offset:{top:r.pageY,left:r.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var a,n=Math.max,o=Math.abs,s=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+%?/,d=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==a)return a;var t,r,i=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return e("body").append(i),t=n.offsetWidth,i.css("overflow","scroll"),r=n.offsetWidth,t===r&&(r=i[0].clientWidth),i.remove(),a=t-r},getScrollInfo:function(t){var r=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),a="scroll"===r||"auto"===r&&t.width<t.element[0].scrollWidth,n="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var r=e(t||window),i=e.isWindow(r[0]);return{element:r,isWindow:i,offset:r.offset()||{left:0,top:0},scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop(),width:i?r.width():r.outerWidth(),height:i?r.height():r.outerHeight()}}},e.fn.position=function(a){if(!a||!a.of)return p.apply(this,arguments);a=e.extend({},a);var h,m,f,g,v,b,_=e(a.of),y=e.position.getWithinInfo(a.within),w=e.position.getScrollInfo(y),x=(a.collision||"flip").split(" "),k={};return b=i(_),_[0].preventDefault&&(a.at="left top"),m=b.width,f=b.height,g=b.offset,v=e.extend({},g),e.each(["my","at"],function(){var e=(a[this]||"").split(" "),t,r;1===e.length&&(e=l.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=l.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",t=c.exec(e[0]),r=c.exec(e[1]),k[this]=[t?t[0]:0,r?r[0]:0],a[this]=[d.exec(e[0])[0],d.exec(e[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===a.at[0]?v.left+=m:"center"===a.at[0]&&(v.left+=m/2),"bottom"===a.at[1]?v.top+=f:"center"===a.at[1]&&(v.top+=f/2),h=t(k.at,m,f),v.left+=h[0],v.top+=h[1],this.each(function(){var i,l,u=e(this),c=u.outerWidth(),d=u.outerHeight(),p=r(this,"marginLeft"),b=r(this,"marginTop"),C=c+p+r(this,"marginRight")+w.width,I=d+b+r(this,"marginBottom")+w.height,S=e.extend({},v),T=t(k.my,u.outerWidth(),u.outerHeight());"right"===a.my[0]?S.left-=c:"center"===a.my[0]&&(S.left-=c/2),"bottom"===a.my[1]?S.top-=d:"center"===a.my[1]&&(S.top-=d/2),S.left+=T[0],S.top+=T[1],e.support.offsetFractions||(S.left=s(S.left),S.top=s(S.top)),i={marginLeft:p,marginTop:b},e.each(["left","top"],function(t,r){
e.ui.position[x[t]]&&e.ui.position[x[t]][r](S,{targetWidth:m,targetHeight:f,elemWidth:c,elemHeight:d,collisionPosition:i,collisionWidth:C,collisionHeight:I,offset:[h[0]+T[0],h[1]+T[1]],my:a.my,at:a.at,within:y,elem:u})}),a.using&&(l=function(e){var t=g.left-S.left,r=t+m-c,i=g.top-S.top,s=i+f-d,l={target:{element:_,left:g.left,top:g.top,width:m,height:f},element:{element:u,left:S.left,top:S.top,width:c,height:d},horizontal:r<0?"left":t>0?"right":"center",vertical:s<0?"top":i>0?"bottom":"middle"};m<c&&o(t+r)<m&&(l.horizontal="center"),f<d&&o(i+s)<f&&(l.vertical="middle"),n(o(t),o(r))>n(o(i),o(s))?l.important="horizontal":l.important="vertical",a.using.call(this,e,l)}),u.offset(e.extend(S,{using:l}))})},e.ui.position={fit:{left:function(e,t){var r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,a=r.width,o=e.left-t.collisionPosition.marginLeft,s=i-o,l=o+t.collisionWidth-a-i,u;t.collisionWidth>a?s>0&&l<=0?(u=e.left+s+t.collisionWidth-a-i,e.left+=s-u):l>0&&s<=0?e.left=i:s>l?e.left=i+a-t.collisionWidth:e.left=i:s>0?e.left+=s:l>0?e.left-=l:e.left=n(e.left-o,e.left)},top:function(e,t){var r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,a=t.within.height,o=e.top-t.collisionPosition.marginTop,s=i-o,l=o+t.collisionHeight-a-i,u;t.collisionHeight>a?s>0&&l<=0?(u=e.top+s+t.collisionHeight-a-i,e.top+=s-u):l>0&&s<=0?e.top=i:s>l?e.top=i+a-t.collisionHeight:e.top=i:s>0?e.top+=s:l>0?e.top-=l:e.top=n(e.top-o,e.top)}},flip:{left:function(e,t){var r=t.within,i=r.offset.left+r.scrollLeft,a=r.width,n=r.isWindow?r.scrollLeft:r.offset.left,s=e.left-t.collisionPosition.marginLeft,l=s-n,u=s+t.collisionWidth-a-n,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0],p,m;l<0?(p=e.left+c+d+h+t.collisionWidth-a-i,(p<0||p<o(l))&&(e.left+=c+d+h)):u>0&&(m=e.left-t.collisionPosition.marginLeft+c+d+h-n,(m>0||o(m)<u)&&(e.left+=c+d+h))},top:function(e,t){var r=t.within,i=r.offset.top+r.scrollTop,a=r.height,n=r.isWindow?r.scrollTop:r.offset.top,s=e.top-t.collisionPosition.marginTop,l=s-n,u=s+t.collisionHeight-a-n,c="top"===t.my[1],d=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1],m,f;l<0?(f=e.top+d+h+p+t.collisionHeight-a-i,e.top+d+h+p>l&&(f<0||f<o(l))&&(e.top+=d+h+p)):u>0&&(m=e.top-t.collisionPosition.marginTop+d+h+p-n,e.top+d+h+p>u&&(m>0||o(m)<u)&&(e.top+=d+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,r,i,a,n,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(n in i)t.style[n]=i[n];t.appendChild(s),r=o||document.documentElement,r.insertBefore(t,r.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",a=e(s).offset().left,e.support.offsetFractions=a>10&&a<11,t.innerHTML="",r.removeChild(t)}()}),sumo.define("jquery.nearest",["jquery","jquery.drags","jquery.resizes","jquery.ui.position"],function(e){function t(t,i,a){t||(t="div");var n=e(i.container),o=n.offset()||{left:0,top:0},s=[n.width()||0,n.height()||0],l={x:[o.left,o.left+s[0]],y:[o.top,o.top+s[1]],w:[0,s[0]],h:[0,s[1]]},u,c,d;for(u in l)l.hasOwnProperty(u)&&(d=r.exec(i[u]),d&&(c=l[u],i[u]=(c[1]-c[0])*d[1]/100+c[0]));i.sameX===!1&&i.checkHoriz===!1&&(i.sameX=!i.checkHoriz),i.sameY===!1&&i.checkVert===!1&&(i.sameY=!i.checkVert);var h=n.find(t),p=[],m=!!i.furthest,f=!i.sameX,g=!i.sameY,v=!!i.onlyX,b=!!i.onlyY,_=m?0:1/0,y=parseFloat(i.x)||0,w=parseFloat(i.y)||0,x=parseFloat(y+i.w)||y,k=parseFloat(w+i.h)||w,C=parseFloat(i.tolerance)||0,I=!!e.fn.each2,S=Math.min,T=Math.max;!i.includeSelf&&a&&(h=h.not(a)),C<0&&(C=0),h[I?"each2":"each"](function(t,r){var i=I?r:e(this),a=i.offset(),n=a.left,o=a.top,s=i.outerWidth(),l=i.outerHeight(),u=n+s,c=o+l,d=T(n,y),h=S(u,x),A=T(o,w),U=S(c,k),O=h>=d,z=U>=A,F,E,L,$;(f&&g||!f&&!g&&O&&z||f&&z||g&&O||f&&v||g&&b)&&(F=O?0:d-h,E=z?0:A-U,L=v||b?v?F:E:O||z?T(F,E):Math.sqrt(F*F+E*E),$=m?L>=_-C:L<=_+C,$&&(_=m?T(_,L):S(_,L),p.push({node:this,dist:L})))});var A=p.length,U=[],O,z,F,E;if(A)for(m?(O=_-C,z=_):(O=_,z=_+C),F=0;F<A;F++)E=p[F],E.dist>=O&&E.dist<=z&&U.push(E.node);return U}var r=/^([\d.]+)%$/;e.each(["nearest","furthest","touching"],function(r,i){var a={x:0,y:0,w:0,h:0,tolerance:1,container:document,furthest:"furthest"==i,includeSelf:!1,sameX:"touching"===i,sameY:"touching"===i,onlyX:!1,onlyY:!1};e[i]=function(r,i,n){if(!r||void 0===r.x||void 0===r.y)return e([]);var o=e.extend({},a,r,n||{});return e(t(i,o))},e.fn[i]=function(r,i){if(!this.length)return this.pushStack([]);var n;if(r&&e.isPlainObject(r))return n=e.extend({},a,r,i||{}),this.pushStack(t(this,n));var o=this.offset(),s={x:o.left,y:o.top,w:this.outerWidth(),h:this.outerHeight()};return n=e.extend({},a,s,i||{}),this.pushStack(t(r,n,this))}})}),sumo.define("jquery.article",["jquery"],function(e){e.expr[":"].emptytext=e.expr.createPseudo(function(t){return function(t){return""===e.trim(e(t).text())}}),e.fn.findIncludeSelf=function(t,r){var i;return i=":has(> p + p + p)"==t?this.find("p + p + p").parent():this.find(t),e(this).is(r)?i:i.addBack(t)},e.fn.exists=function(){return 0!==this.length},e.fn.findLeaves=function(r,i){var a=e(this),n=a.findIncludeSelf(r,"body").filter(i);return n=n.filter(t),n.filter(function(){return!e(this).find(n).exists()})},e.fn.findTrunks=function(r,i){var a=e(this),n=a.findIncludeSelf(r,"body").filter(i);return n=n.filter(t),n.filter(function(){return!e(this).parents().filter(n).exists()})};var t=function(){if(this._header||(this._header=i(e(this))),this._titleText||(this._titleText=o(this)),this._header){var t=.666*e(this).outerHeight();if(t&&this._header.outerHeight()>=t)return!1}return!0},r=function(t){var r=t||e("body").find("main, [role=main]").eq(0).get(0)||"body",i=e(),a=':not("[class^=comment],[id^=comment],[class*=footer],.sidebar:not(body) *,aside *,#sidebar *,footer *,[class*=footer]:not(body, [class*=not-footer]) *,#comments *,#livefyre-comments *,[class^=fyre] *,[class^=comment],[id^=comment] *,[class*=related-post]:not(body) *,.archive-page,.aside,.hentry-metro,.hrf-entry,:emptytext,.tve-leads-lightbox article")',n=[];n.push("article"),n.push(".post"),n.push(".entry-content"),n.push(".post-content"),n.push(".post_box"),n.push(".post-item"),n.push(".blog-post-wrapper"),n.push(".type-post"),n.push("#content"),n.push(".blog_content"),"body"!=r?(n.push(".hentry"),n.push(".content")):(n.push("main .hentry"),n.push("[role=main] .hentry"),n.push("main .content"),n.push("[role=main] .content")),n.push("#post-content"),n.push("#blog-content"),n.push(".blog-post");for(var o=[":has(> p + p + p)"],s=0;s<n.length;s++)if(i=e(r).findLeaves(n[s],a),i.length>0)return i;for(var s=0;s<o.length;s++)if(i=e(r).findTrunks(o[s],a),i.length>0)return i;var i,l,u,c;return i},i=function(t){var r=null,i=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],a={};try{i.forEach(function(i){if(r=e(t).find(i),r.length>0)throw a})}catch(e){if(e===a)return r.eq(0);throw e}return null},a=function(t){var r=null,i=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not(.post-meta-info *, [class^=comment-count], [class^=comments-link], [class^=comments-number], li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],a={};try{i.forEach(function(i){if(r=e(t).find(i),r.length>0)throw a})}catch(e){if(e===a)return r.eq(0).hasClass("fb-comments")&&r.eq(0).prev("h3 + p").length>0?r.eq(0).prev("h3 + p").prev("h3"):r.eq(0);throw e}return null},n=function(e){return i(e)},o=function(e){var t=null;return!e._title&&e._header&&(e._title=e._header),e._title&&(t=e._title.text().trim()),t},s=function(t){var r=null,i=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],a={};try{i.forEach(function(i){if(r=e(t).find(i).filter("[href]"),r.length>0)throw a})}catch(e){if(e===a)return r.eq(0);throw e}return null};e.articles=function(t){if("__smCache"in window&&"articles"in window.__smCache)return window.__smCache.articles;var l=r(t);return l.each(function(){this._header||(this._header=i(e(this))),this._footer=a(e(this)),this._title=this._header?n(this._header):null,this._titleText||(this._titleText=o(this));var t=this._header?s(this._header):null;t?this._anchor=t:this._anchor=s(e(this)),this._anchor?this._url=this._anchor.attr("href"):this._url=null,this._url||(this._url=window.location.href)}),"__smDebug"in window&&window.__smDebug&&l.each(function(){e(this).css("background","rgba(0,0,255,.5)"),this._header&&this._header.css("background","rgba(0,255,0,.5)"),this._title&&this._title.css("background","rgba(255,0,0,.5)"),this._footer&&this._footer.css("background","rgba(255,255,0,.5)")}),"__smCache"in window||(window.__smCache={}),window.__smCache.articles=l,setTimeout(function(){"__smCache"in window&&delete window.__smCache.articles},1e4),l},e.article=function(){return e.articles().eq(0)}}),sumo.define("jquery.displayrules",["jquery","URI","jquery.article"],function(e,t){e.isCurrentUrlAllowed=function(r,i,a,n){function o(e,t,r,i){var a=[];if(e&&e.length)for(var n=0;n<e.length;n++){var o=e[n];if("object"==typeof o&&o.hasOwnProperty(t)&&o[t]==r&&(a.push(o),i))return a[0]}return i?null:a}if(r&&r.length){var s=o(r,"filter_type","article",!0),l=[];s&&(l=e.articles()),a||(a=!1);var u=function(e){for(var t=Object.keys(e),r=t.length,i=Array(r),a=0;a<r;a++)i[a]=[t[a],e[t[a]]];return i},c=function(e){var t=u(e),r=t.length;return function(e){if(null==e)return!r;e=new Object(e);for(var i=0;i<r;i++){var a=t[i],n=a[0];if(a[1]!==e[n]||!(n in e))return!1}return!0}},d=function(e){var e=e.substr(1).split("&");if(""==e)return{};for(var t={},r=0;r<e.length;++r){var i=e[r].split("=",2);if(1==i.length)t[i[0]]="";else try{t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," "))}catch(e){t[i[0]]=i[1].replace(/\+/g," ")}}return t},h=function(e,t,r){if(e.has_hash&&e.hash!=t)return!1;if(e.has_query_params){var i=d(e.search),a=d(r),n=c(i);if(n(a))return!0;if(!(["containing","beginning"].indexOf(e.filter_type)>=0))return!1;for(var o=!0,s=Object.keys(i),l=0;l<s.length;l++){var u=s[l],h=i[s[l]];if(h&&h.length)if(u in a){if(0!=a[u].indexOf(h))return!1}else{if("containing"!=e.filter_type)return!1;var p=!1;if(Object.keys(a).forEach(function(e){e.lastIndexOf(u)>=0&&u==e.substring(e.lastIndexOf(u))&&0==a[e].indexOf(h)&&(p=!0)}),!p)return!1}else{if(u in a)continue;for(var m=Object.keys(a),p=!1,f=0;f<m.length;f++){var g=m[f];if(0==g.indexOf(u)){p=!0;break}}if(!p)return!1}}}return!0},p=o(r,"parsedUserAgent",!0,!0),m=window.location.toString();m&&(m=m.toLowerCase());var f=window.location.pathname.toString();f&&(f=f.toLowerCase());var g=window.location.hostname+f;g&&(g=g.toLowerCase()),"/"==f[f.length-1]&&(f=f.substring(0,f.length-1),g=g.substring(0,g.length-1)),0==g.indexOf("www.")&&(g=g.substring(4));var v=window.location.search;v&&(v=v.toLowerCase());var b=window.location.hash;b&&(b=b.toLowerCase(),"#"!=b[0]&&(b="#"+b));for(var _=d(v),y=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),w=document.cookie.split(";"),x={},k=[],C=0;C<w.length;C++){var I=w[C].substring(0,w[C].indexOf("=")).trim(),S=w[C].substring(w[C].indexOf("=")+1).trim();k.push(I),x[I]=S}var T=document.getElementsByTagName("meta"),A=document.referrer;if(A&&A.length){A=A.toLowerCase();try{var U=t(A);if(U.is("ip")){var O=U.hostname();O&&(O=O.toLowerCase())}else{var O=U.domain();O&&(O=O.toLowerCase())}var z=U.path();z&&(z=z.toLowerCase());var F=U.tld();F&&(F=F.toLowerCase());var E=U.hostname()?U.hostname().toLowerCase()+z:z;"/"==z[z.length-1]&&(z=z.substring(0,z.length-1),E=E.substring(0,E.length-1)),0==E.indexOf("www.")&&(E=E.substring(4));var L=U.search(),$=U.hash()}catch(e){A=!1}}else A=!1;var P=function(t){var r=!1;return e.each(t,function(e,t){var i=!1;if(t.forEach(function(e){var t=!1;if(!i)if("article"==e.filter_type)1==l.length&&(t=!0);else if("smaller"==e.filter_type)(isNaN(parseFloat(e.filter_value))||y<parseFloat(e.filter_value))&&(t=!0);else if("bigger"==e.filter_type)(isNaN(parseFloat(e.filter_value))||y>=parseFloat(e.filter_value))&&(t=!0);else if("views_lt"==e.filter_type)(isNaN(e.pageviews)||n<e.pageviews)&&(t=!0);else if("views_eq"==e.filter_type)(isNaN(e.pageviews)||n==e.pageviews)&&(t=!0);else if("views_gt"==e.filter_type)(isNaN(e.pageviews)||n>e.pageviews)&&(t=!0);else if("countryis"==e.filter_type)a==e.filter_value.toLowerCase()&&(t=!0);else if("countryisnot"==e.filter_type)a&&a==e.filter_value.toLowerCase()||(t=!0);else if("c_exists"==e.filter_type)k.indexOf(e.filter_value)>=0&&(t=!0);else if("c_dne"==e.filter_type)k.indexOf(e.filter_value)<0&&(t=!0);else if("c_equals"==e.filter_type)k.indexOf(e.filter_value)>=0&&x[e.filter_value]==e.param_value&&(t=!0);else if("c_notequals"==e.filter_type)(k.indexOf(e.filter_value)<0||x[e.filter_value]!=e.param_value)&&(t=!0);else if("c_contains"==e.filter_type)k.indexOf(e.filter_value)>=0&&x[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("c_notcontains"==e.filter_type)(k.indexOf(e.filter_value)<0||x[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("mt_equals"===e.filter_type)for(var r=0;r<T.length;r++){var o=T[r].getAttribute(e.filter_value);o&&o.toLowerCase()===e.param_value.toLowerCase()&&(t=!0)}else if("mt_notequals"===e.filter_type){for(var s=!1,r=0;r<T.length;r++){var o=T[r].getAttribute(e.filter_value);o&&o.toLowerCase()===e.param_value.toLowerCase()&&(s=!0)}t=!s}else if("mt_contains"===e.filter_type)for(var r=0;r<T.length;r++){var o=T[r].getAttribute(e.filter_value);o&&o.toLowerCase().indexOf(e.param_value.toLowerCase())!==-1&&(t=!0)}else if("mt_notcontains"===e.filter_type){for(var s=!1,r=0;r<T.length;r++){var o=T[r].getAttribute(e.filter_value);o&&o.toLowerCase().indexOf(e.param_value.toLowerCase())!==-1&&(s=!0)}t=!s}else if("mt_beginning"===e.filter_type)for(var r=0;r<T.length;r++){var o=T[r].getAttribute(e.filter_value);o&&o.toLowerCase().substring(0,e.param_value.length)===e.param_value.toLowerCase()&&(t=!0)}else if("q_exists"==e.filter_type)_&&_.hasOwnProperty(e.filter_value.toLowerCase())&&(t=!0);else if("q_dne"==e.filter_type)_&&_.hasOwnProperty(e.filter_value)||(t=!0);else if("q_equals"==e.filter_type)_&&_[e.filter_value]&&_[e.filter_value]==e.param_value&&(t=!0);else if("q_notequals"==e.filter_type)_&&_[e.filter_value]&&_[e.filter_value]==e.param_value||(t=!0);else if("q_contains"==e.filter_type)_&&_[e.filter_value]&&_[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("q_notcontains"==e.filter_type)(!_||!_[e.filter_value]||_[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("exact"==e.filter_type){var u=h(e,b,v);u&&(e.full_url?g==e.match_url&&(t=!0):null==e.match_url&&u?t=!0:g!=e.match_url&&f!=e.match_url||(t=!0))}else if("beginning"==e.filter_type){var u=h(e,b,v);u&&(e.full_url?0==g.indexOf(e.match_url.toLowerCase())&&(t=!0):null==e.match_url&&u?t=!0:0!=g.indexOf(e.match_url.toLowerCase())&&0!=f.indexOf(e.match_url.toLowerCase())||(t=!0))}else if("containing"==e.filter_type){var u=h(e,b,v);u&&(e.full_url?g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0):null==e.match_url&&u?t=!0:g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0))}else if(A&&["r_url_exact","r_domain_exact","r_url_beginning","r_domain_beginning","r_url_containing","r_domain_containing"].indexOf(e.filter_type)>=0)if("r_url_exact"==e.filter_type){var u=h(e,$,L);e.full_url?u&&E==e.match_url.toLowerCase()&&(t=!0):u&&E==e.match_url.toLowerCase()?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_exact"==e.filter_type)e.host?e.host==O&&(t=!0):e.filter_value==O&&(t=!0);else if("r_url_beginning"==e.filter_type){var u=h(e,$,L);e.full_url?u&&0==E.indexOf(e.match_url)&&(t=!0):u&&0==E.indexOf(e.match_url)?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_beginning"==e.filter_type)e.host&&0==O.indexOf(e.host)?t=!0:0==O.indexOf(e.filter_value)&&(t=!0);else if("r_url_containing"==e.filter_type){var u=h(e,$,L);e.full_url?u&&E.indexOf(e.match_url)>=0&&(t=!0):u&&E.indexOf(e.match_url)>=0?t=!0:null==e.match_url&&u&&(t=!0)}else"r_domain_containing"==e.filter_type&&(e.host&&O.indexOf(e.host)>=0?t=!0:O.indexOf(e.filter_value)>=0&&(t=!0));else if("ua_os"==e.filter_type&&p&&p.compareOS){var c=[e.filter_value];"winmobile"==e.filter_value?c=["windows mobile","windows phone"]:"macos"==e.filter_value?c=["mac os"]:"windesktop"==e.filter_value&&(c=["windows"]),c.indexOf(p.compareOS)>=0&&(t=!0)}else if("ua_browser"==e.filter_type&&p&&p.compareBrowser){var c=[e.filter_value];"chrome"==e.filter_value?c=["chrome","chromium"]:"ie"==e.filter_value?c=["ie","ie mobile"]:"opera"==e.filter_value?c=["opera","opera mini","opera mobile","opera tablet"]:"safari"==e.filter_value&&(c=["safari","mobile safari"]),c.indexOf(p.compareBrowser)>=0&&(t=!0)}else if("ua_exact"==e.filter_type)e.filter_value.toLowerCase()==navigator.userAgent.toLowerCase()&&(t=!0);else if("ua_beginning"==e.filter_type)0==navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())&&(t=!0);else if("ua_containing"==e.filter_type)navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())>=0&&(t=!0);else if("hash_exact"==e.filter_type){var d="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;d.toLowerCase()==b.toLowerCase()&&(t=!0)}else if("hash_beginning"==e.filter_type){var d="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;0==b.toLowerCase().indexOf(d.toLowerCase())&&(t=!0)}else if("hash_containing"==e.filter_type){var d="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;b.toLowerCase().indexOf(d.toLowerCase())>=0&&(t=!0)}else"all"==e.filter_type&&(t=!0);t||(i=!0)}),!i)return r=!0,!1}),r},N=o(r,"rule_type","include",!1);if(N&&N.length){var q={},D=0;N.forEach(function(e){e.group_id&&e.group_id.length?q.hasOwnProperty(e.group_id)?q[e.group_id].push(e):q[e.group_id]=[e]:(q[D]=[e],D+=1)}),currentUrlIncluded=P(q)}else currentUrlIncluded=!0;if(!currentUrlIncluded)return!1;var j=o(r,"rule_type","exclude",!1),Q=!1;if(!j||!j.length)return!0;var W={},D=0;return j.forEach(function(e){e.group_id&&e.group_id.length?W.hasOwnProperty(e.group_id)?W[e.group_id].push(e):W[e.group_id]=[e]:(W[D]=[e],D+=1)}),Q=P(W),!Q}return!0}}),sumo.define("55c989d5-855d-4538-b67b-3cdb46acd968/sharer",["jquery","URI","color","articles","plugins/text!55c989d5-855d-4538-b67b-3cdb46acd968/templates/sharer_popup.html","vex","twitter-text","jquery.timer","jquery.naturalwidth","jquery.nearest","jquery.displayrules"],function(e,t,r,i,a,n,o,s){e.expr[":"].invisible=e.expr.createPseudo(function(t){return function(t){if("hidden"===e(t).css("visibility")||0===e(t).css("opacity"))return!0;var r=e(t).parent();return!!r&&r.is(":invisible")}});var l=function(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},u={currentImage:null,buttonEl:null,win:null,currentImageUrl:null,currentImageData:null,useUrlShortener:!0,shortener:"sumoly",short_domain:null,useAltText:!0,twitterUsername:null,color:null,position:null,contentOnly:!1,ignoreLinks:!0,ignoreImgLinks:!1,relShareOnly:!1,ctry:!1,shortUrls:{},scope:function(){if(u.contentOnly){var t=i.findAll();return e(t)}return e(document)},load:function(){e.ajax({type:"POST",dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0,url:u.api.properties.sumoUrl+"/apps/image-sharer/load",data:{site_id:u.api.properties.siteId,geoLocation:u.api.properties.geoLocation,pageViews:u.api.properties.views,userAgent:navigator.userAgent},success:function(e){e.success&&(u.useAltText=e.use_alt_text,u.useUrlShortener=e.use_url_shortener,u.shortener=e.shortener,u.shortDomain=e.short_domain,u.contentOnly=e.content_only,u.ignoreLinks=e.ignore_links,u.ignoreImgLinks=e.ignore_img_links,u.relShareOnly=e.rel_share_only,u.twitterUsername=e.twitter_username,u.color=e.color,u.utm=e.utm,u.utm_source=e.utm_source,u.utm_medium=e.utm_medium,u.utm_name=e.utm_name,u.utm_custom_key=e.utm_custom_key,u.utm_custom_val=e.utm_custom_val,u.vertical=e.vertical,u.vertical_offset=parseInt(e.vertical_offset),u.vertical_offset_type=e.vertical_offset.replace(/[0-9]/g,""),u.horizontal_offset=parseInt(e.horizontal_offset),u.horizontal_offset_type=e.horizontal_offset.replace(/[0-9]/g,""),u.pro=e.pro,u.position=e.position,u.display_rules=e.display_rules,u.services=e.services,u.ctry=!(!u.api.properties.geoLocation||!u.api.properties.geoLocation.ctry)&&u.api.properties.geoLocation.ctry,u.views=!(!u.api.properties.views||!u.api.properties.views)&&u.api.properties.views,u.reflink="https://sumo.com/?src=sm-is-"+u.api.properties.siteId+"&utm_source=sumo-powered-by&utm_medium=image-sharer&utm_campaign="+u.api.properties.siteId,u.setup())}})},cleanup:function(){var t=u.scope();t.off(".image-sharer"),e(window).off(".image-sharer")},init:function(){a=a.replace("{{preloader}}",u.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/preloader.gif"),e(window).on("scroll",u.debounce(function(){u.scroll()},1)),u.load(),u.api.on("55c989d5-855d-4538-b67b-3cdb46acd968/service/settings",function(e){u.hideSharer(),u.cleanup(),u.useAltText=e.use_alt_text,u.contentOnly=e.content_only,u.ignoreLinks=e.ignore_links,u.ignoreImgLinks=e.ignore_img_links,u.relShareOnly=e.rel_share_only,u.useUrlShortener=e.use_url_shortener,u.shortener=e.shortener,u.shortDomain=e.short_domain,u.twitterUsername=e.twitter_username,u.color=e.color,u.utm=e.utm,u.utm_source=e.utm_source,u.utm_medium=e.utm_medium,u.utm_name=e.utm_name,u.utm_custom_key=e.utm_custom_key,u.utm_custom_val=e.utm_custom_val,u.pro=e.pro,u.position!==e.position&&(u.position=e.position,u.positionSharer()),u.display_rules=e.display_rules,u.services=e.services,u.setup()})},setup:function(){u.buttonEl=e('<div class="sumome-image-sharer"></div>');var t=u.services.slice(0);if(t.forEach(e.proxy(function(t){var i="sumome-image-sharer-"+t;"yummly"===t&&(i+=" sumome-image-sharer-src-only");var a=e('<a href="javascript:void(0);" class="'+i+'"><div></div></a>');if(u.vertical&&a.addClass("sumome-image-sharer-vertical"),u.color){var n={backgroundColor:u.color,borderColor:r.shadeColor(u.color,-5)};a.css(n).hover(e.proxy(function(){e(this).css({backgroundColor:r.shadeColor(u.color,5),borderColor:u.color})}),e.proxy(function(){e(this).css(n)}));var o={};"black"===r.whiteOrBlack(u.color)&&(o.backgroundImage='url("'+this.api.properties.baseUrl+"images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/"+t+'-black-60.png")'),a.find("div").css(o).hover(e.proxy(function(){e(this).css(o)}))}u.buttonEl.append(a)},u)),u.vertical?(u.buttonEl.css("width",40),u.buttonEl.css("height",40*u.services.length)):u.buttonEl.css("width",40*u.services.length),u.buttonEl.on("click","a.sumome-image-sharer-twitter",u.openTwitter),u.buttonEl.on("click","a.sumome-image-sharer-facebook",u.openFacebook),u.buttonEl.on("click","a.sumome-image-sharer-pinterest",u.openPinterest),u.buttonEl.on("click","a.sumome-image-sharer-tapiture",u.openTapiture),u.buttonEl.on("click","a.sumome-image-sharer-tumblr",u.openTumblr),u.buttonEl.on("click","a.sumome-image-sharer-yummly",u.openYummly),e("body").append(u.buttonEl),e.isCurrentUrlAllowed(u.display_rules,null,u.ctry,u.views)){var i=u.scope();i.on("mouseenter.image-sharer","img",u.debounce(u.mouseenter,250)),i.on("mouseleave.image-sharer","img",u.debounce(u.mouseleave,250)),e(window).on("touchstart.image-sharer",u.debounce(u.touch,200)),e(window).on("resize.image-sharer",u.throttle(u.positionSharer,150))}},debounce:function(e,t){var r;return function(){var i=this,a=arguments;clearTimeout(r),r=setTimeout(function(){r=null,e.apply(i,a)},t),r||e.apply(i,a)}},throttle:function(e,t){var r,i,a,n=null,o=0,s=function(){o=(new Date).getTime(),n=null,a=e.apply(r,i),n||(r=i=null)};return function(){var l=(new Date).getTime();o||(o=l);var u=t-(l-o);return r=this,i=arguments,u<=0||u>t?(clearTimeout(n),n=null,o=l,a=e.apply(r,i),n||(r=i=null)):n||(n=setTimeout(s,u)),a}},loadImageProperties:function r(i){var a=u.currentImage.attr("src");u.useAltText?u.currentImageAlt=u.currentImage.attr("alt")||e(document).find("title").text()||"":u.currentImageAlt=e(document).find("title").text()||"";try{if(0===a.indexOf("data:image")){if(u.currentImageUrl=a,u.currentImageData=a,"yummly"===i)throw new Error}else u.currentImageUrl=new t(a).absoluteTo(window.location.toString()).toString(),u.currentImageData=u.getImageData(u.currentImage);return!0}catch(e){var n=u.currentImage.attr("srcset"),o=[];if(!n)return!1;if(n=n.split(","),n&&n.length&&(n.forEach(function(e){e=e.trim().split(" "),e&&2===e.length&&o.push({src:e[0],weight:parseInt(e[1])})}),o.sort(function(e,t){return t.weight-e.weight})),!o.length)return!1;try{return u.currentImageUrl=new t(o[0].src).absoluteTo(window.location.toString()).toString(),u.currentImageData=u.getImageData(u.currentImage),!0}catch(e){return!1}}},openFacebook:function(t){t.preventDefault(),u.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"facebook-click"}),u.loadImageProperties("facebook")&&(u.$modal=n.open({content:a,overlayClosesOnClick:!1,className:"sumome-image-sharer-popup sumome-image-sharer-popup-small",overlayClassName:"sumome-image-sharer-popup-overlay",contentClassName:"sumome-image-sharer-popup-content",closeClassName:"sumome-image-sharer-popup-close"}),u.$modal.on("vexClose",function(){var t=e.timer("closeImageSharer");t&&t.kill()}),u.$modal.on("vexResize",e.proxy(function(t,r){var i=Math.max((e(window).height()-r.$vexContent.outerHeight())/2,0);r.$vex.css({"padding-top":i+"px"})},this)),u.$modal.on("vexOpen",e.proxy(function(e,t){u.$modal.resize(),u.loadFacebookMarkup()},this)))},generateShare:function(t){var r=window.location.href;if(r=u.checkAndAddUTMParams(r,"facebook"),u.useUrlShortener){var i=u.shortener+":"+r;i in u.shortUrls?u.generateShareFromUrl(t,u.shortUrls[i]):e.ajax({type:"POST",dataType:"json",url:u.api.properties.sumoUrl+"/apps/image-sharer/shorten",data:{site_id:u.api.properties.siteId,href:r},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(e){e.success&&(u.shortUrls[i]=e.url,r=e.url),u.generateShareFromUrl(t,r)})}else u.generateShareFromUrl(t,r)},generateShareFromUrl:function(e,t){e=(e+" "+t).trim(),u.$modal.find("textarea").val(e),u.$modal.find(".sumome-image-sharer-link").attr("href",u.reflink),u.$modal.find(".sumome-image-sharer-fb-message").text(e)},loadFacebookMarkup:function(t){e.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:u.api.properties.sumoUrl+"/apps/image-sharer/facebook/load",data:{site_id:u.api.properties.siteId},statusCode:{401:function(){t||u.loadFacebookMarkup()}},success:function(t){t=t.replace("{{sumome-icon}}",u.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/sumome-crown-128.png"),t=t.replace("{{facebook-icon}}",u.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/facebook-icon-128.png"),e("#sumome-image-sharer").html(t);var r=e("#sumome-image-sharer .sumome-connect");r.length>0?(u.goSmall(),u.$modal.find(".sumome-image-sharer-link").attr("href",u.reflink),r.click(u.authenticateFacebook)):(u.goLarge(),u.$modal.find(".sumome-image-sharer-fb-image").css("background-image","url("+u.currentImageUrl+")"),u.generateShare(u.currentImageAlt),u.$modal.find("select").change(function(){var t=e(this).find("option").filter(":selected"),r=t.text(),i=t.attr("value"),a=t.data("access-token");u.$modal.find(".sumome-image-sharer-fb-user img").attr("src","https://graph.facebook.com/v2.8/"+i+"/picture?access_token="+a),u.$modal.find(".sumome-image-sharer-fb-user a").text(r)}),u.$modal.find("textarea").on("keyup",function(){u.$modal.find(".sumome-image-sharer-fb-message").text(e(this).val())}),u.$modal.find("button").click(u.submitFacebook),u.$modal.find(".sumome-image-sharer-fb-message").focus(),u.$modal.resize())}})},checkFacebookWindowClosed:function(){u.isAuthWindowClosed()?u.loadFacebookMarkup():setTimeout(u.checkFacebookWindowClosed,500)},authenticateFacebook:function(){u.isAuthWindowClosed()?(u.win=window.open(u.api.properties.sumoUrl+"/apps/image-sharer/facebook/login","image-sharer-auth","width=640,height=400"),u.win.focus(),u.checkFacebookWindowClosed()):(u.win.location=u.api.properties.sumoUrl+"/apps/image-sharer/facebook/login",u.win.resizeTo(640,400),u.win.focus(),u.checkFacebookWindowClosed())},submitFacebook:function(){var t=u.$modal.find("textarea").val().trim(),r=u.currentImageUrl,i=u.$modal.find("option").filter(":selected"),a=i.text(),n=i.attr("value"),o=i.data("access-token");u.$modal.find("select, textarea, button").prop("disabled",!0),e.ajax({type:"POST",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-Sumo-Auth",e.cookie("__smToken"))},xhrFields:{withCredentials:!0},crossDomain:!0,url:u.api.properties.sumoUrl+"/apps/image-sharer/facebook/post",data:{status:t,image_url:r,image_data:u.currentImageData,targetId:n,targetToken:o},statusCode:{401:function(){u.loadFacebookMarkup()},500:function(){u.close()}},success:function(t){t.success?(u.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"facebook-share"}),u.goSmall(),e("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Snap!</h3><h5>Your photo was shared.</h5><hr><button class="sumome-button sumome-radius sumome-expand">Okay</button></div>'),e("#sumome-image-sharer").find("button").click(function(e){u.close()}),u.$modal.resize(),e.timer("closeImageSharer",u.close,3e3).start()):(u.goSmall(),u.showError(t.error),e("#sumome-image-sharer").find("button").click(function(e){u.close()}),u.$modal.resize())}})},openTumblr:function(t){t.preventDefault(),u.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"tumblr-click"}),u.loadImageProperties("tumblr")&&(u.$modal=n.open({content:a,overlayClosesOnClick:!1,className:"sumome-image-sharer-popup sumome-image-sharer-popup-small",overlayClassName:"sumome-image-sharer-popup-overlay",contentClassName:"sumome-image-sharer-popup-content",closeClassName:"sumome-image-sharer-popup-close"}),u.$modal.on("vexClose",function(){var t=e.timer("closeImageSharer");t&&t.stop()}),u.$modal.on("vexResize",e.proxy(function(t,r){var i=Math.max((e(window).height()-r.$vexContent.outerHeight())/2,0);r.$vex.css({"padding-top":i+"px"})},this)),u.$modal.on("vexOpen",e.proxy(function(e,t){u.$modal.resize(),u.loadTumblrMarkup()},this)))},loadTumblrMarkup:function(t){e.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:u.api.properties.sumoUrl+"/apps/image-sharer/tumblr/load",data:{site_id:u.api.properties.siteId},statusCode:{401:function(){t||u.loadTumblrMarkup()}},success:function(t){t=t.replace("{{sumome-icon}}",u.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/sumome-crown-128.png"),t=t.replace("{{tumblr-icon}}",u.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/tumblr-icon-128.png"),e("#sumome-image-sharer").html(t);var r=e("#sumome-image-sharer .sumome-connect");r.length>0?(u.goSmall(),u.$modal.find(".sumome-image-sharer-link").attr("href",u.reflink),r.click(u.authenticateTumblr)):(u.goLarge(),u.$modal.find(".sumome-image-sharer-tm-image").css("background-image","url("+u.currentImageUrl+")"),u.generateTumblr(u.currentImageAlt),u.$modal.find("textarea").on("keyup",function(){u.$modal.find(".sumome-image-sharer-tm-message").text(e(this).val())}),u.$modal.find("button").click(u.submitTumblr),u.$modal.find(".sumome-image-sharer-tm-message").focus(),u.$modal.resize())}})},generateTumblr:function(t){var r=window.location.href;if(r=u.checkAndAddUTMParams(r,"tumblr"),u.useUrlShortener){var i=u.shortener+":"+r;i in u.shortUrls?u.generateShareFromUrl(t,u.shortUrls[i]):e.ajax({type:"POST",dataType:"json",url:u.api.properties.sumoUrl+"/apps/image-sharer/shorten",data:{site_id:u.api.properties.siteId,href:r},xhrFields:{withCredentials:!1},
crossDomain:!0}).done(function(e){e.success&&(u.shortUrls[i]=e.url,r=e.url),t=(t+" "+r).trim(),u.$modal.find("textarea").val(t),u.$modal.find(".sumome-image-sharer-tm-message").text(t)})}else t=(t+" "+r).trim(),u.$modal.find("textarea").val(t),u.$modal.find(".sumome-image-sharer-link").attr("href",u.reflink),u.$modal.find(".sumome-image-sharer-tm-message").text(t)},checkTumblrWindowClosed:function(){u.isAuthWindowClosed()?u.loadTumblrMarkup():setTimeout(u.checkTumblrWindowClosed,500)},authenticateTumblr:function(){u.isAuthWindowClosed()?(u.win=window.open(u.api.properties.sumoUrl+"/apps/image-sharer/tumblr/login","image-sharer-auth","width=740,height=400"),u.win.focus(),u.checkTumblrWindowClosed()):(u.win.location=u.api.properties.sumoUrl+"/apps/image-sharer/tumblr/login",u.win.resizeTo(740,400),u.win.focus(),u.checkTumblrWindowClosed())},submitTumblr:function(){var t=u.$modal.find("textarea").val().trim(),r=u.currentImageUrl,i=u.$modal.find("select").val();u.$modal.find("textarea, button, select").prop("disabled",!0),e.ajax({type:"POST",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-Sumo-Auth",e.cookie("__smToken"))},xhrFields:{withCredentials:!0},crossDomain:!0,url:u.api.properties.sumoUrl+"/apps/image-sharer/tumblr/post",data:{status:t,image_url:r,image_data:u.currentImageData,base_hostname:i},statusCode:{401:function(){u.loadTumblrMarkup()}},success:function(t){t.success?(u.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"tumblr-share"}),u.goSmall(),e("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Snap!</h3><h5>Your photo was shared.</h5><hr><button class="sumome-button sumome-radius sumome-expand">Okay</button></div>'),e("#sumome-image-sharer").find("button").click(function(e){u.close()}),u.$modal.resize(),e.timer("closeImageSharer",u.close,3e3).start()):(u.goSmall(),u.showError(t.error),e("#sumome-image-sharer").find("button").click(function(e){u.close()}),u.$modal.resize())}})},openTwitter:function(t){t.preventDefault(),u.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"twitter-click"}),u.loadImageProperties("twitter")&&(u.$modal=n.open({content:a,overlayClosesOnClick:!1,className:"sumome-image-sharer-popup sumome-image-sharer-popup-small",overlayClassName:"sumome-image-sharer-popup-overlay",contentClassName:"sumome-image-sharer-popup-content",closeClassName:"sumome-image-sharer-popup-close"}),u.$modal.on("vexClose",function(){var t=e.timer("closeImageSharer");t&&t.stop()}),u.$modal.on("vexResize",e.proxy(function(t,r){var i=Math.max((e(window).height()-r.$vexContent.outerHeight())/2,0);r.$vex.css({"padding-top":i+"px"})},this)),u.$modal.on("vexOpen",e.proxy(function(e,t){u.$modal.resize(),u.loadTwitterMarkup()},this)))},generateTweet:function(t){var r=window.location.href;if(r=u.checkAndAddUTMParams(r,"twitter"),u.useUrlShortener){var i=u.shortener+":"+r;i in u.shortUrls?u.generateTweetFromUrl(t,u.shortUrls[i]):e.ajax({type:"POST",dataType:"json",url:u.api.properties.sumoUrl+"/apps/image-sharer/shorten",data:{site_id:u.api.properties.siteId,href:r},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(e){e.success&&(u.shortUrls[i]=e.url,r=e.url),u.generateTweetFromUrl(t,r)})}else u.generateTweetFromUrl(t,r)},generateTweetFromUrl:function(e,t){var r=("https:"===t.substr(0,6),23),i=u.twitterUsername,a=116-r;i&&("@"!==i.substr(0,1)&&(i="@"+i),a-=5+i.length),e=e.trim(),e=e.replace(/\r\n|\n|\r/g," "),e.length+1>a&&(e=e.substr(0,a-2)+"…"),e=(e+" "+t+(i?" via "+i:"")).trim(),u.$modal.find("textarea").val(e),u.$modal.find(".sumome-image-sharer-link").attr("href",u.reflink),u.$modal.find(".sumome-image-sharer-tw-message").text(e),u.updateTwitterCount()},updateTwitterCount:function(){var e=u.$modal.find("textarea").val().trim(),t=u.charactersLeft(e);u.$modal.find(".sumome-image-sharer-tw-count").html(t+" chars remaining"),t<0?u.$modal.find(".sumome-image-sharer-tw-count").css({color:"red"}):u.$modal.find(".sumome-image-sharer-tw-count").css({color:""})},loadTwitterMarkup:function(t){e.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:u.api.properties.sumoUrl+"/apps/image-sharer/twitter/load",data:{site_id:u.api.properties.siteId},statusCode:{401:function(){t||u.loadTwitterMarkup()}},success:function(t){t=t.replace("{{sumome-icon}}",u.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/sumome-crown-128.png"),t=t.replace("{{twitter-icon}}",u.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/twitter-icon-128.png"),e("#sumome-image-sharer").html(t);var r=e("#sumome-image-sharer .sumome-connect");r.length>0?(u.goSmall(),u.$modal.find(".sumome-image-sharer-link").attr("href",u.reflink),r.click(u.authenticateTwitter)):(u.goLarge(),u.$modal.find(".sumome-image-sharer-tw-image").css("background-image","url("+u.currentImageUrl+")"),u.generateTweet(u.currentImageAlt),u.$modal.find("textarea").on("keyup",function(){u.$modal.find(".sumome-image-sharer-tw-message").text(e(this).val()),u.updateTwitterCount()}),u.$modal.find("button").click(u.submitTwitter),u.$modal.find(".sumome-image-sharer-tw-message").focus(),u.$modal.resize())}})},checkTwitterWindowClosed:function(){u.isAuthWindowClosed()?u.loadTwitterMarkup():setTimeout(u.checkTwitterWindowClosed,500)},authenticateTwitter:function(){u.isAuthWindowClosed()?(u.win=window.open(u.api.properties.sumoUrl+"/apps/image-sharer/twitter/login","image-sharer-auth","width=740,height=400"),u.win.focus(),u.checkTwitterWindowClosed()):(u.win.location=u.api.properties.sumoUrl+"/apps/image-sharer/twitter/login",u.win.resizeTo(740,400),u.win.focus(),u.checkTwitterWindowClosed())},submitTwitter:function(){var t=u.$modal.find("textarea").val().trim(),r=u.currentImageUrl;u.$modal.find("textarea, button").prop("disabled",!0);var t=u.$modal.find("textarea").val().trim(),i=u.charactersLeft(t);i>=0?e.ajax({type:"POST",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-Sumo-Auth",e.cookie("__smToken"))},xhrFields:{withCredentials:!0},crossDomain:!0,url:u.api.properties.sumoUrl+"/apps/image-sharer/twitter/post",data:{status:t,image_url:r,image_data:u.currentImageData},statusCode:{401:function(){u.loadTwitterMarkup()}},success:function(t){t.success?(u.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"twitter-share"}),u.goSmall(),e("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Snap!</h3><h5>Your photo was shared.</h5><hr><button class="sumome-button sumome-radius sumome-expand">Okay</button></div>'),e("#sumome-image-sharer").find("button").click(function(e){u.close()}),u.$modal.resize(),e.timer("closeImageSharer",u.close,3e3).start()):(u.goSmall(),u.showError(t.error),e("#sumome-image-sharer").find("button").click(function(e){u.close()}),u.$modal.resize())}}):u.$modal.find("textarea, button").prop("disabled",!1)},openPinterest:function(e){if(e.preventDefault(),u.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"pinterest-click"}),u.loadImageProperties("pinterest")){var t=window.location.toString();t=u.checkAndAddUTMParams(t,"pinterest"),u.closeAuthWindow(),u.win=window.open(u.generatePinterestUrl(t),"image-sharer-pinterest","width=640,height=320")}},generatePinterestUrl:function(t){var r={url:t,media:u.currentImageUrl,description:u.currentImageAlt};return"http://pinterest.com/pin/create/button/?"+e.param(r)},openTapiture:function(e){if(e.preventDefault(),u.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"tapiture-click"}),u.loadImageProperties("tapiture")){var t=window.location.toString();t=u.checkAndAddUTMParams(t,"tapiture"),u.closeAuthWindow(),u.win=window.open(u.generateTapitureUrl(t),"image-sharer-tapiture","width=600,height=500")}},generateTapitureUrl:function(t){var r={url:u.currentImageUrl,title:u.currentImageAlt,page_url:t,type:"image"};return"http://tapiture.com/widget/tap?"+e.param(r)},openYummly:function(e){if(e.preventDefault(),u.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"yummly-click"}),u.loadImageProperties("yummly")){var t=window.location.toString();t=u.checkAndAddUTMParams(t,"yummly"),u.closeAuthWindow(),u.win=window.open(u.generateYummlyUrl(t),"image-sharer-yummly","width=600,height=500")}},generateYummlyUrl:function(t){var r={url:t,title:u.currentImageAlt,image:u.currentImageUrl};return"http://www.yummly.com/urb/verify?"+e.param(r)},goSmall:function(){u.$modal.closest(".sumome-image-sharer-popup").removeClass("sumome-image-sharer-popup-large").addClass("sumome-image-sharer-popup-small"),this.resize()},goLarge:function(){u.$modal.closest(".sumome-image-sharer-popup").removeClass("sumome-image-sharer-popup-small").addClass("sumome-image-sharer-popup-large"),this.resize()},resize:function(){var e=u.$modal.closest(".sumome-image-sharer-popup"),t="small",r=e.innerWidth();t=r>=1440?"xxlarge":r>=1080?"xlarge":r>=768?"large":r>=480?"medium":"small";var i="sumome-res-"+t;e.removeClass("sumome-res-small sumome-res-medium sumome-res-large sumome-res-xlarge sumome-res-xxlarge").addClass(i)},showError:function(t){e("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Golly Gee Wilikers</h3><h5>'+t+'</h5><hr><button class="sumome-button sumome-alert sumome-radius sumome-expand">Close</button></div>')},close:function(){u.closeAuthWindow(),n.close()},openAuthWindow:function(){u.isAuthWindowClosed()&&(u.win=window.open("about:blank","image-sharer-auth","width=1,height=1"))},isAuthWindowClosed:function(){return!u.win||u.win.closed},closeAuthWindow:function(){u.isAuthWindowClosed()||(u.win.close(),u.win=null)},mouseenter:function(t){var r=Math.min(window.screen.availWidth||e(window).width(),e(window).width());if(e.isCurrentUrlAllowed(u.display_rules,null,u.ctry,u.views)){var i=e.timer("hideImageSharer");i&&i.kill(),u.currentImage=null;var a=e(t.target),n=a.naturalWidth(),o=a.naturalHeight(),r=a.width(),s=a.height();if(n<150||o<150)return void u.buttonEl.stop(!0,!0).fadeOut(500);if(a.parent().is("div[id^=grs_]"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(a.is(".ob-widget *"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(a.is(".s.u.m.o.me *"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(a.attr("rel")&&0===a.attr("rel").toLowerCase().indexOf("noshare"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(a.attr("rel")&&0===a.attr("rel").toLowerCase().indexOf("share"));else{var l=a.parent(),c=/[^\/\\]+(?:jpg|gif|png)/gi;if(u.ignoreLinks&&l&&"A"===l.get(0).tagName.toUpperCase()&&l.attr("href")&&l.attr("href")!==a.attr("src")&&null===l.attr("href").match(c))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(u.ignoreImgLinks&&l&&"A"===l.get(0).tagName.toUpperCase()&&l.attr("href")&&l.attr("href")!==a.attr("src")&&null!==l.attr("href").match(c))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(a.parents("form").length>0)return void u.buttonEl.stop(!0,!0).fadeOut(500);if(a.is(":hidden")||a.is(":invisible"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(u.relShareOnly)return void u.buttonEl.stop(!0,!0).fadeOut(500)}u.currentImage=e(t.target),u.positionSharer(),u.isOverFixedHeader()||u.buttonEl.stop(!0,!0).fadeIn(500)}},visibleArea:function(t){for(var r={height:t.offsetHeight,width:t.offsetWidth,isRelative:!1},i={y:t.offsetTop||0,x:t.offsetLeft||0,node:t.offsetParent},a,n,o,s,l;!e(t).is("body")&&null!==(t=t.parentNode);){try{a=window.getComputedStyle(t)}catch(e){}if(a&&"relative"===a.position&&(r.isRelative=!0),a&&"hidden"===a.overflow)return n=t.offsetHeight-Math.max(e("body").offset().top,i.y),o=t.offsetWidth-Math.max(e("body").offset().left,i.x),t!==i.node&&(n+=t.offsetTop||0,o+=t.offsetLeft||0),n<r.height&&(n<0?r.height=0:r.height=n),o<r.width&&(o<0?r.width=0:r.width=o),r;t===i.node&&(i.y=i.y+(t.offsetTop||0),i.x=i.x+(t.offsetLeft||0),i.node=t.offsetParent)}return r},positionSharer:function(){if(null!==u.currentImage&&!e(".sumome-image-sharer-popup-content").is(":visible")){var r=u.currentImage.offset(),i=u.currentImage.offsetParent().offset(),a=u.visibleArea(u.currentImage[0]),n=a.hasHiddenOverflow,o=["absolute"].indexOf(u.currentImage.css("position"))>=0;if(o){if(a.isRelative)var s=["absolute","fixed","relative"];else var s=["absolute","fixed"];var l=u.currentImage.parents().filter(function(){return!e(this).is("body,html")&&s.indexOf(e(this).css("position"))>=0});o=l&&l.length}var c=null,d=null,h=null,p=null;if(o){var m=Math.max(e("body").offset().top+(isNaN(parseFloat(e("body").css("padding-top")))?0:parseFloat(e("body").css("padding-top"))),r.top-(r.top-i.top)),f=Math.max(e("body").offset().left+(isNaN(parseFloat(e("body").css("padding-left")))?0:parseFloat(e("body").css("padding-left"))),r.left-(r.left-i.left)),c=parseFloat(isNaN(parseFloat(u.currentImage.css("padding-top")))?0:parseFloat(u.currentImage.css("padding-top")))+parseFloat(isNaN(parseFloat(u.currentImage.css("border-top")))?0:u.currentImage.css("border-top")),d=parseFloat(isNaN(parseFloat(u.currentImage.css("padding-left")))?0:parseFloat(u.currentImage.css("padding-left")))+parseFloat(isNaN(parseFloat(u.currentImage.css("border-left")))?0:u.currentImage.css("border-left"));h=r.top-m+c<0?0:r.top-m+c,p=r.left-f+d<0?0:r.left-f+d}else if("fixed"===u.currentImage.css("position"))var m=u.currentImage.position().top,f=u.currentImage.position().left;else var m=Math.max(e("body").offset().top+(isNaN(parseFloat(e("body").css("padding-top")))?0:parseFloat(e("body").css("padding-top"))),r.top),f=Math.max(e("body").offset().left+(isNaN(parseFloat(e("body").css("padding-left")))?0:parseFloat(e("body").css("padding-left"))),r.left);if(null===c)var c=parseFloat(isNaN(u.currentImage.css("padding-top"))?0:u.currentImage.css("padding-top"))+isNaN(parseFloat(u.currentImage.css("border-top")))?0:parseFloat(u.currentImage.css("border-top")),d=parseFloat(isNaN(u.currentImage.css("padding-left"))?0:u.currentImage.css("padding-left"))+isNaN(parseFloat(u.currentImage.css("border-left")))?0:parseFloat(u.currentImage.css("border-left"));var g=parseFloat(isNaN(u.currentImage.css("padding-left"))?0:u.currentImage.css("padding-bottom"))+isNaN(parseFloat(u.currentImage.css("border-bottom")))?0:parseFloat(u.currentImage.css("border-bottom")),v=parseFloat(isNaN(u.currentImage.css("padding-left"))?0:u.currentImage.css("padding-right"))+isNaN(parseFloat(u.currentImage.css("border-right")))?0:parseFloat(u.currentImage.css("border-right")),b=a.height-(null!==h?m-r.top+h:c)-g,_=a.width-(null!==p?f-r.left+p:d)-v,y=null!==h?h:c,w=null!==p?p:d,x={},k="px"===u.vertical_offset_type?u.vertical_offset:b*(u.vertical_offset/100),C="px"===u.horizontal_offset_type?u.horizontal_offset:_*(u.horizontal_offset/100),I=u.currentImage.attr("src"),S=!0;try{0===I.indexOf("data:image")?S=!1:(u.currentImageUrl=new t(I).absoluteTo(window.location.toString()).toString(),u.currentImageData=u.getImageData(u.currentImage))}catch(e){S=!1}if(!S){var T=u.currentImage.attr("srcset");T&&(T=T.split(","),T&&T.length&&T.forEach(function(e){S||(e=e.trim().split(" "),e&&2===e.length&&(S=!0))}))}var A=u.buttonEl.find(".sumome-image-sharer-src-only");A.toggle(S);var U="2px 0",O="2px 0 2px 2px",z="2px 2px 2px 0",F="3px 0 0 3px",E="0 3px 3px 0";u.vertical&&(U="0 2px",O="2px 2px 0 2px",z="0 2px 2px 2px",F="3px 3px 0 0",E="0 0 3px 3px"),u.buttonEl.find("> a").css({borderRadius:"0px",borderWidth:U});var L=u.buttonEl.find("> a"+(S?"":":not(.sumome-image-sharer-src-only)"));L.first().css({borderRadius:F,borderWidth:O}),L.last().css({borderRadius:E,borderWidth:z});var $=u.services.length;!S&&A&&A.length&&($-=A.length);var P=u.vertical?40*$:40,N=u.vertical?40:40*$;u.vertical?(u.buttonEl.css("width",40),u.buttonEl.css("height",40*$)):u.buttonEl.css("width",40*$),"c"!==u.position&&(k+=10,C+=10),x="tl"===u.position?{top:m+k,left:f+C}:"tr"===u.position?{top:m+k,left:f+_-N-C}:"bl"===u.position?{top:m+b-P-k,left:f+C}:"br"===u.position?{top:m+b-P-k,left:f+_-N-C}:{top:m+b/2-P/2+k,left:f+_/2-N/2+C},x.top+=y,x.left+=w,x.position="fixed"===u.currentImage.css("position")?"fixed":"absolute",u.buttonEl.css(x)}},getImageData:function(t){var r=e(t).naturalWidth(),i=e(t).naturalHeight(),a=e(t).attr("src"),n=document.createElement("canvas"),o=1280,s=800;if(a&&a.toLowerCase().indexOf(".gif")>-1)return null;if(n){var l=Math.min(o/r,s/i);l<1&&(r*=l,i*=l),n.width=r,n.height=i;var u=n.getContext("2d");if(u){u.drawImage(t.get(0),0,0,r,i);try{return n.toDataURL()}catch(e){}}}return null},charactersLeft:function(e){return 140-o.txt.getTweetLength(e)},touch:function(t){var r=Math.min(window.screen.availWidth||e(window).width(),e(window).width());if(e.isCurrentUrlAllowed(u.display_rules,null,u.ctry,u.views)){var i=e.timer("hideImageSharer");i&&i.kill();var a=t.pageX||t.originalEvent.touches[0].pageX,n=t.pageY||t.originalEvent.touches[0].pageY,o=e.nearest({x:a,y:n},"img");if(u.currentImage=null,!o)return void u.buttonEl.stop(!0,!0).fadeOut(500);var s=o.naturalWidth(),l=o.naturalHeight(),r=o.width(),c=o.height();if(s<150||l<150)return void u.buttonEl.stop(!0,!0).fadeOut(500);if(o.parent().is("div[id^=grs_]"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(o.is(".ob-widget *"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(o.is(".s.u.m.o.me *"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(o.attr("rel")&&0===o.attr("rel").toLowerCase().indexOf("noshare"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(o.attr("rel")&&0===o.attr("rel").toLowerCase().indexOf("share"));else{var d=o.parent(),h=/[^\/\\]+(?:jpg|gif|png)/gi;if(u.ignoreLinks&&d&&"A"===d.get(0).tagName.toUpperCase()&&d.attr("href")&&d.attr("href")!==o.attr("src")&&null===d.attr("href").match(h))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(u.ignoreImgLinks&&d&&"A"===d.get(0).tagName.toUpperCase()&&d.attr("href")&&d.attr("href")!==o.attr("src")&&null!==d.attr("href").match(h))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(o.parents("form").length>0)return void u.buttonEl.stop(!0,!0).fadeOut(500);if(o.is(":hidden")||o.is(":invisible"))return void u.buttonEl.stop(!0,!0).fadeOut(500);if(u.relShareOnly)return void u.buttonEl.stop(!0,!0).fadeOut(500)}u.currentImage=o,u.positionSharer(),u.isOverFixedHeader()||(u.buttonEl.stop(!0,!0).fadeIn(500),e.timer("hideImageSharer",u.hideSharer,5e3).start())}},mouseleave:function(t){if(null!==u.currentImage){var r=e(t.toElement||t.relatedTarget);r.hasClass(".sumome-image-sharer")||r.closest(".sumome-image-sharer").length>0||u.hideSharer()}},hideSharer:function(){var t=e.timer("hideImageSharer");t&&t.kill(),u.currentImage=null,u.buttonEl.stop(!0,!0).fadeOut(500)},scroll:function(){u.isOverFixedHeader()&&u.hideSharer()},isOverFixedHeader:function(){if(!u.buttonEl)return!1;var t="1"===u.buttonEl.css("opacity"),r="fixed"===e("header").css("position");if(t&&r){var i=8,a={x:parseInt(u.buttonEl.css("left").replace("px",""))-e(window).scrollLeft()-i,y:parseInt(u.buttonEl.css("top").replace("px",""))-e(window).scrollTop()-i,width:u.buttonEl.width()+2*i,height:u.buttonEl.height()+2*i},n={x:e("header").position().left,y:e("header").position().top,width:e("header").width(),height:e("header").height()};return!!l(a,n)}return!1},checkAndAddUTMParams:function(e,r){if("pro"in u&&u.pro&&e&&"utm"in u&&u.utm){var i=t(e);"utm_source"in u&&u.utm_source&&(i.removeQuery("utm_source"),i.addQuery("utm_source",u.utm_source.replace("{service}",r))),"utm_medium"in u&&u.utm_medium&&(i.removeQuery("utm_medium"),i.addQuery("utm_medium",u.utm_medium.replace("{service}",r))),"utm_name"in u&&u.utm_name&&(i.removeQuery("utm_campaign"),i.addQuery("utm_campaign",u.utm_name.replace("{service}",r))),"utm_custom_key"in u&&u.utm_custom_key&&"utm_custom_val"in u&&u.utm_custom_val&&(i.removeQuery(u.utm_custom_key),i.addQuery(u.utm_custom_key,u.utm_custom_val.replace("{service}",r))),e=i.toString()}return e}};return u}),sumo.define("55c989d5-855d-4538-b67b-3cdb46acd968/service",["jquery","55c989d5-855d-4538-b67b-3cdb46acd968/sharer"],function(e,t){return function(e){var r=function(r,i){sumo.require(["plugins/css!../css/sumome-image-sharer.css"]),t.api=e,t.init(),i()},i=function(e){e()};return{init:r,destroy:i}}}),sumo.define("55c989d5-855d-4538-b67b-3cdb46acd968/service",function(){})}(void 0,void 0);